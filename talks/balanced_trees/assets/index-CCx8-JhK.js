const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/md-DYnbe3Kx.js","assets/modules/vue-Q5I2hRP5.js","assets/slidev/context-DCDSeVMn.js","assets/modules/shiki-BvYBi_Xo.js","assets/modules/shiki-Bxv373Z5.css","assets/slidev/md-Dfj5Rc4A.js","assets/slidev/title-renderer.md_vue_type_script_setup_true_lang-B-WA5ogA.js","assets/slidev/default-1Jld8UAu.js","assets/md-d5FwiuyQ.css","assets/md-CvpwqLnN.js","assets/Mermaid.vue_vue_type_script_setup_true_lang-BtRIRytY.js","assets/lz-string-BjqiNizP.js","assets/modules/file-saver-C8BEGaqa.js","assets/md-BvAcT3LF.css","assets/md-DidvVVse.js","assets/slidev/VClicks-ueOey5Pf.js","assets/md-7T8dH4sL.css","assets/md-BWdNqIqn.js","assets/md-kM-i3lFZ.css","assets/md-T-GENl3s.js","assets/md-D7mj9DLL.css","assets/md-Ca4auj5U.js","assets/slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CUgp5Btl.js","assets/modules/unplugin-icons-aILcuSx7.js","assets/md-BNdhkKAN.js","assets/md-WD1sTH6n.js","assets/md-miyyUauB.css","assets/md-BRpA16JE.js","assets/md-C9xfDNSm.css","assets/md-CRm84rRS.js","assets/slidev/md-a62LYJ-m.js","assets/slidev/entry-BGwsVpp5.js","assets/entry-15QH0Q6e.css","assets/slidev/overview-CprOmc0w.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-DXVqJEbO.js","assets/NoteDisplay-CGTG5ZHT.css","assets/slidev/SlideWrapper-wM-Kz2dZ.js","assets/SlideWrapper-Koc67ERq.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-DZOQYyt3.js","assets/slidev/notes-u0fKTEaF.js","assets/slidev/presenter-DEteFk_E.js","assets/slidev/shortcuts-C-tQoXzw.js","assets/shortcuts-BqC-late.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-gjyOosN3.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-CSc6f_kj.css","assets/slidev/play-PVkRxc8N.js","assets/play-D_7yfuao.css","assets/slidev/404-CWqr7nZq.js","assets/404-n_Eqdu3W.css"])))=>i.map(i=>d[i]);
import{z as b,n as ys,au as fo,D as kn,ao as ks,t as A,G as He,N as ee,S as ho,av as po,aw as go,ae as vs,ax as mo,H as ws,ay as G,az as yo,E as ko,o as wt,b as en,x as vo,d as bs,F as wo,e as Rn,g as bo,X as V,Y as vn,aA as _o,_ as Ct,aB as So,aC as Mo,aD as To,aE as Oo,aF as Po,M as q,aG as _s,aH as Ao,aI as It,a8 as Ss,aJ as Lo,aK as Eo,ab as $o,aL as Ms,r as Co,c as Io,ai as Do,V as Ro,a3 as No,J as jo,aM as Ho,aN as Fo,aO as xo,u as Bo}from"./modules/vue-Q5I2hRP5.js";import{T as Vo}from"./modules/shiki-BvYBi_Xo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const R={theme:"apple-basic",title:"Trees",titleTemplate:"%s",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:`<p>Data Structures, Algorithms and Advanced Programming</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Helvetica Neue"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Helvetica Neue"],provider:"google",local:["Helvetica Neue"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"Chris Janes",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"slide-left",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,layout:"intro-image",image:"https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?q=80&w=1280",hideInToc:!0,slidesTitle:"Trees"};function tn(t,e,n){return Math.min(n,Math.max(e,t))}function qo(...t){return zo(t).reduce((e,n)=>e+n,0)}function Wo(t){return t=t??[],Array.isArray(t)?t:[t]}function zo(t){return Wo(t).flat(1)}function Uo(t){return Array.from(new Set(t))}function Nn(...t){let e,n,s;t.length===1?(e=0,s=1,[n]=t):[e,n,s=1]=t;const o=[];let i=e;for(;i<n;)o.push(i),i+=s||1;return o}function Jo(t){return t!=null}function Ko(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>e(n,s)).filter(Jo))}function Ml(t){return Object.keys(t).forEach(e=>t[e]===void 0?delete t[e]:{}),t}function Tl(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const s=e;e=void 0,s&&await s},n}function Ol(t,e){return new Promise(n=>setTimeout(async()=>{await void 0,n()},t))}const Pl="build",Ts=b(()=>R.aspectRatio),Os=b(()=>R.canvasWidth),Go=b(()=>Math.ceil(Os.value/Ts.value)),Qo=b(()=>Ko(R.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e])),Bt=R.slidesTitle,Al="/talks/balanced_trees",Yo=[],Zo=new Set(["title","titleTemplate","script","style","noscript"]),ht=new Set(["base","meta","link","style","script","noscript"]),Xo=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),ei=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Ps=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),ti=typeof window<"u";function bt(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function nn(t){if(t._h)return t._h;if(t._d)return bt(t._d);let e=`${t.tag}:${t.textContent||t.innerHTML||""}:`;for(const n in t.props)e+=`${n}:${String(t.props[n])},`;return bt(e)}function ni(t,e){return t instanceof Promise?t.then(e):e(t)}function sn(t,e,n,s){const o=s||Ls(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},t==="templateParams"||t==="titleTemplate");if(o instanceof Promise)return o.then(r=>sn(t,e,n,r));const i={tag:t,props:o};for(const r of Ps){const a=i.props[r]!==void 0?i.props[r]:n[r];a!==void 0&&((!(r==="innerHTML"||r==="textContent"||r==="children")||Zo.has(i.tag))&&(i[r==="children"?"innerHTML":r]=a),delete i.props[r])}return i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i}function si(t,e){var s;const n=t==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,o])=>o).map(([o,i])=>t==="style"?`${o}:${i}`:o)),(s=String(Array.isArray(e)?e.join(n):e))==null?void 0:s.split(n).filter(o=>!!o.trim()).join(n)}function As(t,e,n,s){for(let o=s;o<n.length;o+=1){const i=n[o];if(i==="class"||i==="style"){t[i]=si(i,t[i]);continue}if(t[i]instanceof Promise)return t[i].then(r=>(t[i]=r,As(t,e,n,o)));if(!e&&!Ps.has(i)){const r=String(t[i]),a=i.startsWith("data-");r==="true"||r===""?t[i]=a?"true":!0:t[i]||(a&&r==="false"?t[i]="false":delete t[i])}}}function Ls(t,e=!1){const n=As(t,e,Object.keys(t),0);return n instanceof Promise?n.then(()=>t):t}const oi=10;function Es(t,e,n){for(let s=n;s<e.length;s+=1){const o=e[s];if(o instanceof Promise)return o.then(i=>(e[s]=i,Es(t,e,s)));Array.isArray(o)?t.push(...o):t.push(o)}}function ii(t){const e=[],n=t.resolvedInput;for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i=n[o];if(!(i===void 0||!Xo.has(o))){if(Array.isArray(i)){for(const r of i)e.push(sn(o,r,t));continue}e.push(sn(o,i,t))}}if(e.length===0)return[];const s=[];return ni(Es(s,e,0),()=>s.map((o,i)=>(o._e=t._i,t.mode&&(o._m=t.mode),o._p=(t._i<<oi)+i,o)))}const jn=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Hn={base:-10,title:10},Fn={critical:-80,high:-10,low:20};function _t(t){const e=t.tagPriority;if(typeof e=="number")return e;let n=100;return t.tag==="meta"?t.props["http-equiv"]==="content-security-policy"?n=-30:t.props.charset?n=-20:t.props.name==="viewport"&&(n=-15):t.tag==="link"&&t.props.rel==="preconnect"?n=20:t.tag in Hn&&(n=Hn[t.tag]),e&&e in Fn?n+Fn[e]:n}const ri=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],ai=["name","property","http-equiv"];function $s(t){const{props:e,tag:n}=t;if(ei.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${n}:id:${e.id}`;for(const s of ai)if(e[s]!==void 0)return`${n}:${s}:${e[s]}`;return!1}const ue="%separator";function li(t,e,n=!1){var o;let s;if(e==="s"||e==="pageTitle")s=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");s=(o=t[e.substring(0,i)])==null?void 0:o[e.substring(i+1)]}else s=t[e];if(s!==void 0)return n?(s||"").replace(/"/g,'\\"'):s||""}const ci=new RegExp(`${ue}(?:\\s*${ue})*`,"g");function st(t,e,n,s=!1){if(typeof t!="string"||!t.includes("%"))return t;let o=t;try{o=decodeURI(t)}catch{}const i=o.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const r=t.includes(ue);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===ue||!i.includes(a))return a;const l=li(e,a.slice(1),s);return l!==void 0?l:a}).trim(),r&&(t.endsWith(ue)&&(t=t.slice(0,-ue.length)),t.startsWith(ue)&&(t=t.slice(ue.length)),t=t.replace(ci,n).trim()),t}function xn(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function ui(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{var d;const i=(await t.resolveTags()).map(f=>({tag:f,id:ht.has(f.tag)?nn(f):f.tag,shouldRender:!0}));let r=t._dom;if(!r){r={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const f=new Set;for(const h of["body","head"]){const p=(d=n[h])==null?void 0:d.children;for(const g of p){const m=g.tagName.toLowerCase();if(!ht.has(m))continue;const k={tag:m,props:await Ls(g.getAttributeNames().reduce((_,M)=>({..._,[M]:g.getAttribute(M)}),{})),innerHTML:g.innerHTML},y=$s(k);let v=y,w=1;for(;v&&f.has(v);)v=`${y}:${w++}`;v&&(k._d=v,f.add(v)),r.elMap[g.getAttribute("data-hid")||nn(k)]=g}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function a(f,h,p){const g=`${f}:${h}`;r.sideEffects[g]=p,delete r.pendingSideEffects[g]}function l({id:f,$el:h,tag:p}){const g=p.tag.endsWith("Attrs");if(r.elMap[f]=h,g||(p.textContent&&p.textContent!==h.textContent&&(h.textContent=p.textContent),p.innerHTML&&p.innerHTML!==h.innerHTML&&(h.innerHTML=p.innerHTML),a(f,"el",()=>{var m;(m=r.elMap[f])==null||m.remove(),delete r.elMap[f]})),p._eventHandlers)for(const m in p._eventHandlers)Object.prototype.hasOwnProperty.call(p._eventHandlers,m)&&h.getAttribute(`data-${m}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:h).addEventListener(m.substring(2),p._eventHandlers[m].bind(h)),h.setAttribute(`data-${m}`,""));for(const m in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,m))continue;const k=p.props[m],y=`attr:${m}`;if(m==="class"){if(!k)continue;for(const v of k.split(" "))g&&a(f,`${y}:${v}`,()=>h.classList.remove(v)),!h.classList.contains(v)&&h.classList.add(v)}else if(m==="style"){if(!k)continue;for(const v of k.split(";")){const w=v.indexOf(":"),_=v.substring(0,w).trim(),M=v.substring(w+1).trim();a(f,`${y}:${_}`,()=>{h.style.removeProperty(_)}),h.style.setProperty(_,M)}}else h.getAttribute(m)!==k&&h.setAttribute(m,k===!0?"":String(k)),g&&a(f,y,()=>h.removeAttribute(m))}}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of i){const{tag:h,shouldRender:p,id:g}=f;if(p){if(h.tag==="title"){n.title=h.textContent;continue}f.$el=f.$el||r.elMap[g],f.$el?l(f):ht.has(h.tag)&&c.push(f)}}for(const f of c){const h=f.tag.tagPosition||"head";f.$el=n.createElement(f.tag.tag),l(f),u[h]=u[h]||n.createDocumentFragment(),u[h].appendChild(f.$el)}for(const f of i)await t.hooks.callHook("dom:renderTag",f,n,a);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose);for(const f in r.pendingSideEffects)r.pendingSideEffects[f]();t._dom=r,await t.hooks.callHook("dom:rendered",{renders:i}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function fi(t,e={}){const n=e.delayFn||(s=>setTimeout(s,10));return t._domDebouncedUpdatePromise=t._domDebouncedUpdatePromise||new Promise(s=>n(()=>ui(t,e).then(()=>{delete t._domDebouncedUpdatePromise,s()})))}function hi(t){return e=>{var s,o;const n=((o=(s=e.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:o.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":i=>{fi(i,t)}}}}}function on(t,e={},n){for(const s in t){const o=t[s],i=n?`${n}:${s}`:s;typeof o=="object"&&o!==null?on(o,e,i):typeof o=="function"&&(e[i]=o)}return e}const di={run:t=>t()},pi=()=>di,Cs=typeof console.createTask<"u"?console.createTask:pi;function gi(t,e){const n=e.shift(),s=Cs(n);return t.reduce((o,i)=>o.then(()=>s.run(()=>i(...e))),Promise.resolve())}function mi(t,e){const n=e.shift(),s=Cs(n);return Promise.all(t.map(o=>s.run(()=>o(...e))))}function Vt(t,e){for(const n of[...t])n(e)}class yi{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const o=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!s.allowDeprecated){let r=i.message;r||(r=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,o=(...i)=>(typeof s=="function"&&s(),s=void 0,o=void 0,n(...i));return s=this.hook(e,o),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=on(e),s=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const n=on(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(gi,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(mi,e,...n)}callHookWith(e,n,...s){const o=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Vt(this._before,o);const i=e(n in this._hooks?[...this._hooks[n]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&o&&Vt(this._after,o)}):(this._after&&o&&Vt(this._after,o),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function ki(){return new yi}const vi=new Set(["templateParams","htmlAttrs","bodyAttrs"]),wi={hooks:{"tag:normalise":({tag:t})=>{t.props.hid&&(t.key=t.props.hid,delete t.props.hid),t.props.vmid&&(t.key=t.props.vmid,delete t.props.vmid),t.props.key&&(t.key=t.props.key,delete t.props.key);const e=$s(t);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete t.key;const n=e||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":t=>{const e=Object.create(null);for(const s of t.tags){const o=(s.key?`${s.tag}:${s.key}`:s._d)||nn(s),i=e[o];if(i){let a=s==null?void 0:s.tagDuplicateStrategy;if(!a&&vi.has(s.tag)&&(a="merge"),a==="merge"){const l=i.props;l.style&&s.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),s.props.style=`${l.style} ${s.props.style}`),l.class&&s.props.class?s.props.class=`${l.class} ${s.props.class}`:l.class&&(s.props.class=l.class),e[o].props={...l,...s.props};continue}else if(s._e===i._e){i._duped=i._duped||[],s._d=`${i._d}:${i._duped.length+1}`,i._duped.push(s);continue}else if(_t(s)>_t(i))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&ht.has(s.tag)){delete e[o];continue}e[o]=s}const n=[];for(const s in e){const o=e[s],i=o._duped;n.push(o),i&&(delete o._duped,n.push(...i))}t.tags=n,t.tags=t.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},bi=new Set(["script","link","bodyAttrs"]),_i=t=>({hooks:{"tags:resolve":e=>{for(const n of e.tags){if(!bi.has(n.tag))continue;const s=n.props;for(const o in s){if(o[0]!=="o"||o[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,o))continue;const i=s[o];typeof i=="function"&&(t.ssr&&jn.has(o)?s[o]=`this.dataset.${o}fired = true`:delete s[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=i)}t.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||bt(n.props.src||n.props.href))}},"dom:renderTag":({$el:e,tag:n})=>{var o,i;const s=e==null?void 0:e.dataset;if(s)for(const r in s){if(!r.endsWith("fired"))continue;const a=r.slice(0,-5);jn.has(a)&&((i=(o=n._eventHandlers)==null?void 0:o[a])==null||i.call(e,new Event(a.substring(2))))}}}}),Si=new Set(["link","style","script","noscript"]),Mi={hooks:{"tag:normalise":({tag:t})=>{t.key&&Si.has(t.tag)&&(t.props["data-hid"]=t._h=bt(t.key))}}},Ti={mode:"server",hooks:{"tags:beforeResolve":t=>{const e={};let n=!1;for(const s of t.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(e[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,n=!0);n&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Oi={hooks:{"tags:resolve":t=>{var e;for(const n of t.tags)if(typeof n.tagPriority=="string")for(const{prefix:s,offset:o}of ri){if(!n.tagPriority.startsWith(s))continue;const i=n.tagPriority.substring(s.length),r=(e=t.tags.find(a=>a._d===i))==null?void 0:e._p;if(r!==void 0){n._p=r+o;break}}t.tags.sort((n,s)=>{const o=_t(n),i=_t(s);return o<i?-1:o>i?1:n._p-s._p})}}},Pi={meta:"content",link:"href",htmlAttrs:"lang"},Ai=["innerHTML","textContent"],Li=t=>({hooks:{"tags:resolve":e=>{var r;const{tags:n}=e;let s;for(let a=0;a<n.length;a+=1)n[a].tag==="templateParams"&&(s=e.tags.splice(a,1)[0].props,a-=1);const o=s||{},i=o.separator||"|";delete o.separator,o.pageTitle=st(o.pageTitle||((r=n.find(a=>a.tag==="title"))==null?void 0:r.textContent)||"",o,i);for(const a of n){if(a.processTemplateParams===!1)continue;const l=Pi[a.tag];if(l&&typeof a.props[l]=="string")a.props[l]=st(a.props[l],o,i);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const c of Ai)typeof a[c]=="string"&&(a[c]=st(a[c],o,i,a.tag==="script"&&a.props.type.endsWith("json")))}t._templateParams=o,t._separator=i},"tags:afterResolve":({tags:e})=>{let n;for(let s=0;s<e.length;s+=1){const o=e[s];o.tag==="title"&&o.processTemplateParams!==!1&&(n=o)}n!=null&&n.textContent&&(n.textContent=st(n.textContent,t._templateParams,t._separator))}}}),Ei={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n,s;for(let o=0;o<e.length;o+=1){const i=e[o];i.tag==="title"?n=i:i.tag==="titleTemplate"&&(s=i)}if(s&&n){const o=xn(s.textContent,n.textContent);o!==null?n.textContent=o||n.textContent:t.tags.splice(t.tags.indexOf(n),1)}else if(s){const o=xn(s.textContent);o!==null&&(s.textContent=o,s.tag="title",s=void 0)}s&&t.tags.splice(t.tags.indexOf(s),1)}}},$i={hooks:{"tags:afterResolve":t=>{for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let Is;function Ci(t={}){const e=Ii(t);return e.use(hi()),Is=e}function Bn(t,e){return!t||t==="server"&&e||t==="client"&&!e}function Ii(t={}){const e=ki();e.addHooks(t.hooks||{}),t.document=t.document||(ti?document:void 0);const n=!t.document,s=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let o=0,i=[];const r=[],a={plugins:r,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return i},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!r.some(u=>u.key===c.key))&&(r.push(c),Bn(c.mode,n)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const u={_i:o++,input:l,...c};return Bn(u.mode,n)&&(i.push(u),s()),{dispose(){i=i.filter(d=>d._i!==u._i),s()},patch(d){for(const f of i)f._i===u._i&&(f.input=u.input=d);s()}}},async resolveTags(){const l={tags:[],entries:[...i]};await e.callHook("entries:resolve",l);for(const c of l.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const d of await ii(c)){const f={tag:d,entry:c,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:n};return[wi,Ti,_i,Mi,Oi,Li,Ei,$i,...(t==null?void 0:t.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function Di(){return Is}const Ri=fo[0]==="3";function Ni(t){return typeof t=="function"?t():kn(t)}function St(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const e=Ni(t);if(!t||!e)return e;if(Array.isArray(e))return e.map(n=>St(n));if(typeof e=="object"){const n={};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){n[s]=kn(e[s]);continue}n[s]=St(e[s])}return n}return e}const ji={hooks:{"entries:resolve":t=>{for(const e of t.entries)e.resolvedInput=St(e.input)}}},Ds="usehead";function Hi(t){return{install(n){Ri&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Ds,t))}}.install}function Fi(t={}){t.domDelayFn=t.domDelayFn||(n=>ys(()=>setTimeout(()=>n(),0)));const e=Ci(t);return e.use(ji),e.install=Hi(e),e}const Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn="__unhead_injection_handler__";function xi(){return qn in Vn?Vn[qn]():ks(Ds)||Di()}function Bi(t,e={}){const n=e.head||xi();if(n)return n.ssr?n.push(t,e):Vi(n,t,e)}function Vi(t,e,n={}){const s=A(!1),o=A({});He(()=>{o.value=s.value?{}:St(e)});const i=t.push(o.value,n);return ee(o,a=>{i.patch(a)}),vs()&&(ho(()=>{i.dispose()}),po(()=>{s.value=!0}),go(()=>{s.value=!1})),i}function rn(t){if(t===!1||t==="false")return null;if(t==null||t===!0||t==="true")return"+1";if(typeof t=="string"&&"+-".includes(t[0]))return t;const e=+t;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${t}`),null):e}function qi(t){return Array.isArray(t)?[rn(t[0]),rn(t[1])]:null}function Rs(t,e=0,n){const s=A(!1);let o=new Map,i=new Map;const r={get current(){return tn(+t.value,e,r.total)},set current(a){t.value=s.value?tn(a,e,r.total):a},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return i},get isMounted(){return s.value},setup(){ws(()=>{s.value=!0,i=G(i),yo(t)||(r.current=t.value)}),ko(()=>{s.value=!1,o=new Map,i=new Map})},calculateSince(a,l=1){const c=rn(a);if(c==null)return null;let u,d,f;if(typeof c=="string"){const h=r.currentOffset,p=+c;u=h+p,d=h+p+l-1,f=p+l-1}else u=c,d=c+l-1,f=0;return{start:u,end:+Number.POSITIVE_INFINITY,max:d,delta:f,currentOffset:b(()=>r.current-u),isCurrent:b(()=>r.current===u),isActive:b(()=>r.current>=u)}},calculateRange(a){const l=qi(a);if(l==null)return null;const[c,u]=l;let d,f,h;return typeof c=="string"?(d=r.currentOffset+ +c,h=+c):(d=c,h=0),typeof u=="string"?(f=d+ +u,h+=+u):f=u,{start:d,end:f,max:f,delta:h,currentOffset:b(()=>r.current-d),isCurrent:b(()=>r.current===d),isActive:b(()=>d<=r.current&&r.current<f)}},calculate(a){return Array.isArray(a)?r.calculateRange(a):r.calculateSince(a)},register(a,l){if(!l)return;const{delta:c,max:u}=l;o.set(a,c),i.set(a,u)},unregister(a){o.delete(a),i.delete(a)},get currentOffset(){return qo(...o.values())},get total(){return n??(s.value?Math.max(0,...i.values()):0)}};return r}function Wi(t,e=0){var s,o;const n=((s=t==null?void 0:t.meta.slide)==null?void 0:s.frontmatter.clicksStart)??0;return Rs(A(Math.max(mo(e),n)),n,(o=t==null?void 0:t.meta)==null?void 0:o.clicks)}const zi="modulepreload",Ui=function(t){return"/talks/balanced_trees/"+t},Wn={},j=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=Ui(l),l in Wn)return;Wn[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":zi,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return o.then(r=>{for(const a of r||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ji=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},Ki={},Gi={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Qi(t,e){return wt(),en("div",Gi,vo("Failed to fetch this slide. Please check your network connection."))}const Q=Ji(Ki,[["render",Qi]]),Yi={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Zi=bs({__name:"SlideLoading",setup(t){const e=A(!1);return ws(()=>{setTimeout(()=>{e.value=!0},200)}),(n,s)=>(wt(),en("div",Yi,[e.value?(wt(),en(wo,{key:0},[s[0]||(s[0]=Rn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=Rn("div",null,"Loading slide...",-1))],64)):bo("v-if",!0)]))}}),Xi={theme:"apple-basic",titleTemplate:"%s",title:"Trees",info:"Data Structures, Algorithms and Advanced Programming",drawings:{persist:!1},transition:"slide-left",mdc:!0,author:"Chris Janes",selectable:!1,canvasWidth:980,layout:"intro-image",image:"https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?q=80&w=1280",hideInToc:!0},pe=V(Xi),er=G({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"-d9un8v",frontmatterRaw:`theme: apple-basic
titleTemplate: '%s'
title: Trees
info: 'Data Structures, Algorithms and Advanced Programming'
# https://sli.dev/features/drawing
drawings:
  persist: false
# slide transition: https://sli.dev/guide/animations.html#slide-transitions
transition: slide-left
# enable MDC Syntax: https://sli.dev/features/mdc
mdc: true
# as
author: Chris Janes
selectable: false

canvasWidth: 980

layout: intro-image
image: 'https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?q=80&w=1280'
hideInToc: true
`,note:"",title:"Trees",index:0,noteHTML:"",raw:"",frontmatter:pe,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),tr={hideInToc:!0},ge=V(tr),nr=G({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"te8wks",frontmatterRaw:`hideInToc: true
`,note:"",title:"In this session",level:1,index:1,noteHTML:"",raw:"",frontmatter:ge,filepath:"",start:37,id:1,no:2},__clicksContext:null,__preloaded:!1}),sr={},me=V(sr),or=G({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"8ds4h2",note:"",title:"Degenerate Trees",level:1,index:2,noteHTML:`<p>When inserting into binary trees, we can reach a position where the tree becomes unbalanced.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> that is the tree degenerates into a linked list, which means traversal and search have a complexity of n rather than log n. To avoid this, we can make use of what are known as balanced trees.</p>
<p>A balanced tree maintains the difference between the height of the left and right side of any subtree as either 0 or 1. This also guarantees a height of log n for n items. Two common balanced trees are the AVL tree and the Red Black tree. The AVL tree maintains balance by ensuring the difference in heights between the left and right subtrees is at most 1 - which makes the tree more balanced but also makes operations like deletion and insertion more complex - so we'll focus on the Red Black Tree structure for now.</p>
`,raw:"",frontmatter:me,filepath:"",start:46,id:2,no:3},__clicksContext:null,__preloaded:!1}),ir={layout:"image-left",image:"https://images.unsplash.com/photo-1627831389670-d20f5a01c536?q=80&w=2592&auto=format&fit=crop"},ye=V(ir),rr=G({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-ee8fan",frontmatterRaw:`layout: image-left
image: 'https://images.unsplash.com/photo-1627831389670-d20f5a01c536?q=80&w=2592&auto=format&fit=crop'
`,note:"",title:"Red Black Trees",level:1,index:3,noteHTML:`<p>Red Black trees also produce balanced trees - but based on the concept of ensuring the tree follows a set of rules.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> The root node is always black
<span class="slidev-note-click-mark" data-clicks="2"></span> Every leaf (null node) is black
<span class="slidev-note-click-mark" data-clicks="3"></span> if a node is red, then both its children are black
<span class="slidev-note-click-mark" data-clicks="4"></span> The final rule is that every path from a node to a leaf must have the same number of black nodes (not counting the root)</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> To implement this, we add two extra properties to our tree node; a colour (either red or black) and a parent connection (which was optional in a standard binary tree but is used to keep the tree balanced here).</p>
<p>The standard insertion and deletion methods are modified to ensure the tree remains balanced - and this process relies on flipping the colour of nodes or rotating node positions in the tree where necessary.</p>
`,raw:"",frontmatter:ye,filepath:"",start:105,id:3,no:4},__clicksContext:null,__preloaded:!1}),ar={},ke=V(ar),lr=G({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"ayfubf",note:"",title:"Red Black Rotations",level:1,index:4,noteHTML:`<p>There are two kinds of rotation, left and right, which &quot;pivot&quot; around the links between nodes. In a left rotation, y becomes the root and x is set to its left child and y's left child being set as the right child of x. I a right rotation, x becomes the root, y is set as its right child and x's right child is set as the left child of y.</p>
<p>In effect, rotations are mirrored, and so a left rotation turns the right configuration into the left, while a right rotation turns the left configuration into the right.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> That might be easier to understand with some visuals - so here's a video that talks through the process.</p>
`,raw:"",frontmatter:ke,filepath:"",start:215,id:4,no:5},__clicksContext:null,__preloaded:!1}),cr={},ve=V(cr),ur=G({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-ubcawt",note:"",title:"Rotation Implementation",level:1,index:5,noteHTML:`<p>The rotational functions are relatively straightforward and match the pseudocode exactly.</p>
<p>As we did a worked example of a left rotation, we'll work through the code for a right rotation.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> We start by creating a temporary pointer to x's left child</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> To ensure the structure of the tree is correct, we update the parent of y's right child if it has on and X's parent is set as the parent of Y.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> We then check if X has a parent now, if it doesn't - it becomes the root of the tree.</p>
<p>If it's not the root, we need to check if x is equal to the left child of its parent we set that to be y otherwise y is set as the right child of the parent of x.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Finally, we set x to be the right child of y and make y the parent of x.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Yes, it IS a little confusing.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> The left rotate is very similar, but we won't spend much extra time working through this.</p>
`,raw:"",frontmatter:ve,filepath:"",start:278,id:5,no:6},__clicksContext:null,__preloaded:!1}),fr={},we=V(fr),hr=G({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"w71wti",note:"",title:"Utility Functions",level:1,index:6,noteHTML:`<p>There are several utility functions that we can implement that makes the rest of the process a little easier to understand (and somewhat shorter)</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span>grandParentOf just finds the grand parent of the passed in node (if it has one)</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> uncleOf finds the &quot;uncle&quot; of the passed in node, that is the sibling of the parent of the node (it has to go up to the grandparent and then back down to the other child of the grandparent)</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> isRed and isBlack are simple functions that check the colour of a node</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> makeRed and makeBlack are member functions on the Node that set the colour of a node to red or black respectively.</p>
`,raw:"",frontmatter:we,filepath:"",start:402,id:6,no:7},__clicksContext:null,__preloaded:!1}),dr={},be=V(dr),pr=G({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"yq67fm",note:"",title:"Insertion Implementation",level:1,index:7,noteHTML:`<p>All this is talk of rotation is to allow us to insert a value into our tree without unbalancing it, so let's take a look at that now.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> We start with a standard insertion process - that is, we compare the value to be inserted against the current node and move left or right accordingly - we also need it to set the parent property of the new node.</p>
<p>Once inserted, we set the new nodes color to be red.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> We then enter a loop that continues until either node equals the root or it's parent is red</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> the process splits here based on if the nodes parent is the left child of its parent or not.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> in this case, we get the uncle of node and if it's red we make nodes parent black, the uncle is set to black and the grandparent of node is set to red.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> We then set node to be the grandparent of the current node so we can continue balancing the tree if necessary.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> if the uncle is black, we check if node is it's parent right child, if it is, node is set to be current nodes parent and we perform a left rotation</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> no matter the above, we make the current nodes parent black, it's grand parent red and we perform a right rotation around the grandparent.</p>
<p><span class="slidev-note-click-mark" data-clicks="8"></span> The other side of this is very similar, just the order of the rotations is swapped.</p>
<p><span class="slidev-note-click-mark" data-clicks="9"></span> The very final thing we do, having finished the loop is set the root node to be black, no matter what else happened.</p>
<p><span class="slidev-note-click-mark" data-clicks="10"></span> Deletion is even more complex, so we won't go in that here - there are resources on Brightspace if you want to take a look yourselves though.</p>
`,raw:"",frontmatter:be,filepath:"",start:467,id:7,no:8},__clicksContext:null,__preloaded:!1}),gr={},_e=V(gr),mr=G({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"13lhcf",note:"",title:"2-3-4 Trees",level:1,index:8,noteHTML:`<p>Another variant of the tree structure, these <span class="slidev-note-click-mark" data-clicks="1"></span> multiway balanced trees allow for more data items and children than a binary tree</p>
<p>Their shape is dictated by a set of rules, there's also a relationship between how the values flow between child and parent nodes.</p>
<p>For all non-leaf nodes (otherwise known as internal nodes):</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> A node with one data item always has 2 children</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> A node with two data items always has 3 children</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> A node with three data items always has 4 children</p>
<p>(This is where the name comes from, we also get 2-3 Trees...)</p>
<p>Leaf nodes have no children but can have up to three data items. The data elements for each node are sorted from smallest to greatest.</p>
`,raw:"",frontmatter:_e,filepath:"",start:551,id:8,no:9},__clicksContext:null,__preloaded:!1}),yr={},Se=V(yr),kr=G({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"-n2kcio",note:"",title:"2-3-4 Tree Building",level:1,index:9,noteHTML:`<p>Building a 2-3-4 tree allows us to see the insertion process in action - <span class="slidev-note-click-mark" data-clicks="1"></span> we insert into the root to start with, <span class="slidev-note-click-mark" data-clicks="2"></span> putting the values into sorted order. <span class="slidev-note-click-mark" data-clicks="3"></span> Nothing changes through the first three elements <span class="slidev-note-click-mark" data-clicks="4"></span></p>
<p>On the fourth element, we split the node as-is (without yet inserting the new value), the median value becomes the &quot;parent&quot; with the lowest value as a left child and the highest value the right.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> From the parent, we find the child whose interval contains the value to be inserted (the first child has an interval of -infinity to the lowest value of the parent, the second child goes from lowest to next, the third from next to highest and the fourth from highest to infinity)</p>
<p>If that child has less than 3 elements, the value is inserted - if it has 3, we need to split the node again and so we repeat the process.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> let's continue adding values - here's 50. What happens if the next value is above 20? Say, 35?</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> Let's push 60 in for ease of demonstration purposes.</p>
<p><span class="slidev-note-click-mark" data-clicks="8"></span> then 100 - that gives us three elements in that leaf. Adding a fourth will cause a split.</p>
<p><span class="slidev-note-click-mark" data-clicks="9"></span> As we see with 150.</p>
<p><span class="slidev-note-click-mark" data-clicks="10"></span> In goes 175, which sets us up to see what happens when the root node has 3 elements and we insert again</p>
<p><span class="slidev-note-click-mark" data-clicks="11"></span> Adding anything above 60 causes a cascade - it has to go into that 3 element leaf node, which splits, pushing the median element upwards into the root. That takes that to 4 elements and so it splits, making 20 and 60 into child nodes of the root, which just has 40 now - the median value is inserted as suitable into one of the two new children and we continue.</p>
`,raw:"",frontmatter:Se,filepath:"",start:652,id:9,no:10},__clicksContext:null,__preloaded:!1}),vr={layout:"image-right-standard",image:"https://images.unsplash.com/photo-1521796930838-c108c9fcfa70?q=80&w=1974&auto=format&fit=crop"},Me=V(vr),wr=G({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"-xeg4wa",frontmatterRaw:`layout: image-right-standard
image: 'https://images.unsplash.com/photo-1521796930838-c108c9fcfa70?q=80&w=1974&auto=format&fit=crop'
`,note:"",title:"B-Trees",level:1,index:10,noteHTML:`<p>B-Trees are a form of 2-3-4 tree (specifically, a 2-3 tree) - so they are a balanced search tree where each node can have more than one data element (also called keys) and more than 2 children. Usefully, no one is entirely sure what the B means - it may or may not be balanced?!</p>
<p>They maintain their sorted form through insertion and deletion operations. As with Red-Black and 2-3-4 trees, there are some rules to consider:</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> B-Trees have an &quot;order&quot; which we call m, this dictates how many children nodes can have</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> a leaf has 0 children</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> the root is either a leaf or has at least two children</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> any other internal node has between m/2 and m children.</p>
<p>Internal nodes can have no more than 1 less than their number of children data elements (so a node with 3 children would have 2 data elements, 4 children 3 elements and so on.)</p>
<p>All leaves are at the same level in the tree, which is how the balance is maintained.</p>
`,raw:"",frontmatter:Me,filepath:"",start:859,id:10,no:11},__clicksContext:null,__preloaded:!1}),br={layout:"fact"},Te=V(br),_r=G({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"9glk68",frontmatterRaw:`layout: fact
`,note:"",title:"$\\mathcal{O}(log n)$",level:1,index:11,noteHTML:`<p>By ensuring they are balanced, these sorts of trees guarantee efficient data operations like insert, search and delete (they are nearly always log n.) so they are often found in algorithms or processes that benefit from that efficiency.</p>
<p>2-3-4 trees are often the backing structure behind the dictionary (or map) structure.</p>
<p>B-Trees (and their improved cousin, the B+-Tree) are generally the structure used to represent data on a disk drive or other physical media - with leaf nodes storing pointers to physical disk locations. Let's say that the tree holds a million records - in a log n search, that's just 20 accesses of the drive. For a typical &quot;spinning&quot; rust platter hard drive, each access might be somewhere around 10 milliseconds - so the time to locate any given record out of those million is 0.2 seconds.</p>
`,raw:"",frontmatter:Te,filepath:"",start:892,id:11,no:12},__clicksContext:null,__preloaded:!1}),O=new Array(12),Z=(t,e)=>_o({loader:e,delay:300,loadingComponent:Zi,errorComponent:Q,onError:n=>console.error("Failed to load slide "+(t+1),n)}),zn=async()=>{try{return O[0]??(O[0]=await j(()=>import("./slidev/md-DYnbe3Kx.js"),__vite__mapDeps([0,1,2,3,4])))}catch(t){return console.error("slide failed to load",t),Q}},Un=async()=>{try{return O[1]??(O[1]=await j(()=>import("./slidev/md-Dfj5Rc4A.js"),__vite__mapDeps([5,1,2,6,7,3,4,8])))}catch(t){return console.error("slide failed to load",t),Q}},Jn=async()=>{try{return O[2]??(O[2]=await j(()=>import("./md-CvpwqLnN.js"),__vite__mapDeps([9,10,3,1,4,2,11,12,7,13])))}catch(t){return console.error("slide failed to load",t),Q}},Kn=async()=>{try{return O[3]??(O[3]=await j(()=>import("./md-DidvVVse.js"),__vite__mapDeps([14,10,3,1,4,2,11,12,15,16])))}catch(t){return console.error("slide failed to load",t),Q}},Gn=async()=>{try{return O[4]??(O[4]=await j(()=>import("./md-BWdNqIqn.js"),__vite__mapDeps([17,10,3,1,4,2,11,12,7,18])))}catch(t){return console.error("slide failed to load",t),Q}},Qn=async()=>{try{return O[5]??(O[5]=await j(()=>import("./md-T-GENl3s.js"),__vite__mapDeps([19,1,11,12,2,7,3,4,20])))}catch(t){return console.error("slide failed to load",t),Q}},Yn=async()=>{try{return O[6]??(O[6]=await j(()=>import("./md-Ca4auj5U.js"),__vite__mapDeps([21,22,23,1,2,7,3,4])))}catch(t){return console.error("slide failed to load",t),Q}},Zn=async()=>{try{return O[7]??(O[7]=await j(()=>import("./md-BNdhkKAN.js"),__vite__mapDeps([24,22,23,1,2,7,3,4])))}catch(t){return console.error("slide failed to load",t),Q}},Xn=async()=>{try{return O[8]??(O[8]=await j(()=>import("./md-WD1sTH6n.js"),__vite__mapDeps([25,10,3,1,4,2,11,12,15,7,26])))}catch(t){return console.error("slide failed to load",t),Q}},es=async()=>{try{return O[9]??(O[9]=await j(()=>import("./md-BRpA16JE.js"),__vite__mapDeps([27,10,3,1,4,2,11,12,7,28])))}catch(t){return console.error("slide failed to load",t),Q}},ts=async()=>{try{return O[10]??(O[10]=await j(()=>import("./md-CRm84rRS.js"),__vite__mapDeps([29,15,1,2,3,4])))}catch(t){return console.error("slide failed to load",t),Q}},ns=async()=>{try{return O[11]??(O[11]=await j(()=>import("./slidev/md-a62LYJ-m.js"),__vite__mapDeps([30,1,2,3,4])))}catch(t){return console.error("slide failed to load",t),Q}},Sr=[{no:1,meta:er,load:zn,component:Z(0,zn)},{no:2,meta:nr,load:Un,component:Z(1,Un)},{no:3,meta:or,load:Jn,component:Z(2,Jn)},{no:4,meta:rr,load:Kn,component:Z(3,Kn)},{no:5,meta:lr,load:Gn,component:Z(4,Gn)},{no:6,meta:ur,load:Qn,component:Z(5,Qn)},{no:7,meta:hr,load:Yn,component:Z(6,Yn)},{no:8,meta:pr,load:Zn,component:Z(7,Zn)},{no:9,meta:mr,load:Xn,component:Z(8,Xn)},{no:10,meta:kr,load:es,component:Z(9,es)},{no:11,meta:wr,load:ts,component:Z(10,ts)},{no:12,meta:_r,load:ns,component:Z(11,ns)}],oe=vn(Sr);function Ns(t,e){if(!e||e==="all"||e==="*")return Nn(1,t+1);if(e==="none")return[];const n=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[o,i]=s.split("-",2);n.push(...Nn(+o,i?+i+1:t+1))}return Uo(n).filter(s=>s<=t).sort((s,o)=>s-o)}const Dt="$$slidev-clicks-context",wn="$$slidev-page",js="$$slidev-slide-element",Mr="$$slidev-slide-scale",Tr="$$slidev-context",Ll="$$slidev-route",bn="$$slidev-render-context",Or="$$slidev-fontmatter",Pr="$$slidev-slide-zoom",dt="slidev-vclick-target",We="slidev-vclick-hidden",ze="slidev-vclick-fade",qt="slidev-vclick-hidden-explicitly",Wt="slidev-vclick-current",zt="slidev-vclick-prior",El="slidev-vclick-display-none",pt=999999,Ar=["localhost","127.0.0.1"],Lr=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],$l=[...Lr,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock"];function Er(t,e,{mode:n="replace"}={}){const s=Ct();return b({get(){const o=s.currentRoute.value.query[t];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){ys(()=>{(s.currentRoute.value.query[t]??(e==null?void 0:e.toString()))!==o.toString()&&s[kn(n)]({query:{...s.currentRoute.value.query,[t]:`${o}`===e?void 0:o}})})}})}function Rt(t){return oe.value.find(e=>{var n;return e.no===+t||((n=e.meta.slide)==null?void 0:n.frontmatter.routeAlias)===t})}function De(t,e,n=!1){var o;(typeof t=="number"||typeof t=="string")&&(t=Rt(t));const s=((o=t.meta.slide)==null?void 0:o.frontmatter.routeAlias)??t.no;return n?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const $r={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Cr(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let n=t.name.includes("|")?t.name:$r[t.name]||t.name;if(n.includes("|")){const[s,o]=n.split("|").map(i=>i.trim());n=e?o:s}if(n)return{...t,name:n}}function Ir(t,e,n){var o,i;let s=t>0?(o=n==null?void 0:n.meta)==null?void 0:o.transition:(i=e==null?void 0:e.meta)==null?void 0:i.transition;return s||(s=R.transition||void 0),Cr(s,t<0)}const Cl=A(!1),Il=A(!1),Dl=A(!1),Dr=A(!1),_n=A(!1),Rl=A(!1),Nl=A(!0),jl=So({xs:460,...Ao}),Mt=Mo(),Hl=To(),Fl=b(()=>Mt.height.value-Mt.width.value/Ts.value>120),xl=Oo(It?document.body:null),Hs=Po(),Bl=b(()=>{var t;return["INPUT","TEXTAREA"].includes(((t=Hs.value)==null?void 0:t.tagName)||"")}),Vl=b(()=>{var t;return["BUTTON","A"].includes(((t=Hs.value)==null?void 0:t.tagName)||"")});q("slidev-camera","default",{listenToStorageChanges:!1});q("slidev-mic","default",{listenToStorageChanges:!1});const Rr=q("slidev-scale",0),ql=q("slidev-wake-lock",!0),Wl=q("slidev-hide-cursor-idle",!0);q("slidev-skip-export-pdf-tip",!1);q("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const zl=q("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Nr=q("slidev-show-editor",!1,{listenToStorageChanges:!1}),jr=q("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),Hr=q("slidev-editor-width",It?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Fr=q("slidev-editor-height",It?window.innerHeight*.4:300,{listenToStorageChanges:!1}),ot=vn(null),Tt=q("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),it=q("slidev-presenter-layout",1,{listenToStorageChanges:!1}),an={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},xr=q("slidev-viewer-css-filter",an,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Ul=b(()=>Object.keys(an).some(t=>xr.value[t]!==an[t]));function Jl(){it.value=it.value+1,it.value>3&&(it.value=1)}function Kl(){Tt.value=Math.min(2,Tt.value+.1)}function Gl(){Tt.value=Math.max(.5,Tt.value-.1)}const Ql=_s(Dr),rt=q("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Fs(t,e,n=1){var o,i,r,a,l,c,u;const s=e.meta.slide.level??n;s&&s>n&&t.length>0?Fs(t[t.length-1].children,e,n+1):t.push({no:e.no,children:[],level:n,titleLevel:s,path:De(((i=(o=e.meta.slide)==null?void 0:o.frontmatter)==null?void 0:i.routeAlias)??e.no,!1),hideInToc:!!((l=(a=(r=e.meta)==null?void 0:r.slide)==null?void 0:a.frontmatter)!=null&&l.hideInToc),title:(u=(c=e.meta)==null?void 0:c.slide)==null?void 0:u.title})}function xs(t,e,n=!1,s,o){return t.map(i=>{const r={...i,active:i.no===(o==null?void 0:o.value),hasActiveParent:n};return r.children.length>0&&(r.children=xs(r.children,e,r.active||r.hasActiveParent,r,o)),s&&(r.active||r.activeParent)&&(s.activeParent=!0),r})}function Bs(t,e=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Bs(n.children,e+1)}))}function Br(t,e,n){const s=b(()=>t.value.filter(i=>{var r,a;return(a=(r=i.meta)==null?void 0:r.slide)==null?void 0:a.title}).reduce((i,r)=>(Fs(i,r),i),[])),o=b(()=>xs(s.value,n.value,void 0,void 0,e));return b(()=>Bs(o.value))}function Vr(t,e,n=A(0),s,o,i){const r=b(()=>oe.value.length),a=A(0),l=A(0),c=b(()=>De(t.value,s.value)),u=b(()=>t.value.no),d=b(()=>{var $;return(($=t.value.meta)==null?void 0:$.layout)||(u.value===1?"cover":"default")}),f=b(()=>e.value.current),h=b(()=>e.value.clicksStart),p=b(()=>e.value.total),g=b(()=>oe.value[Math.min(oe.value.length,u.value+1)-1]),m=b(()=>oe.value[Math.max(1,u.value-1)-1]),k=b(()=>u.value<oe.value.length||f.value<p.value),y=b(()=>u.value>1||f.value>0),v=b(()=>o.value?void 0:Ir(a.value,t.value,m.value));ee(t,($,C)=>{a.value=$.no-C.no});async function w($){return!1}const _=Br(oe,u,t);async function M(){l.value=1,p.value<=n.value?await L():n.value+=1}async function T(){l.value=-1,n.value<=h.value?await N(!0):n.value-=1}async function L($=!1){l.value=1,u.value<oe.value.length&&await P(u.value+1,$&&!o.value?pt:void 0)}async function N($=!1){l.value=-1,u.value>1&&await P(u.value-1,$&&!o.value?pt:void 0)}function ne(){return P(1)}function Y(){return P(r.value)}async function P($,C=0,ae=!1){var D,de,qe;_n.value=!1;const ce=u.value!==$,Ve=C!==n.value,x=(D=Rt($))==null?void 0:D.meta,nt=((de=x==null?void 0:x.slide)==null?void 0:de.frontmatter.clicksStart)??0;C=tn(C,nt,((qe=x==null?void 0:x.__clicksContext)==null?void 0:qe.total)??pt),(ae||ce||Ve)&&await(i==null?void 0:i.push({path:De($,s.value,i.currentRoute.value.name==="export"),query:{...i.currentRoute.value.query,clicks:C===0?void 0:C.toString(),embedded:location.search.includes("embedded")?"true":void 0}}))}function E(){i==null||i.push({path:De(u.value,!0),query:{...i.currentRoute.value.query}})}function F(){i==null||i.push({path:De(u.value,!1),query:{...i.currentRoute.value.query}})}return{slides:oe,total:r,currentPath:c,currentSlideNo:u,currentPage:u,currentSlideRoute:t,currentLayout:d,currentTransition:v,clicksDirection:l,nextRoute:g,prevRoute:m,clicksContext:e,clicks:f,clicksStart:h,clicksTotal:p,hasNext:k,hasPrev:y,tocTree:_,navDirection:a,openInEditor:w,next:M,prev:T,go:P,goLast:Y,goFirst:ne,nextSlide:L,prevSlide:N,enterPresenter:E,exitPresenter:F}}const qr=Ss(()=>{const t=Ct(),e=Lo(),n=b(()=>(t.currentRoute.value.query,new URLSearchParams(location.search))),s=b(()=>n.value.has("print")||e.name==="export"),o=A(n.value.get("print")==="clicks"),i=b(()=>n.value.has("embedded")),r=b(()=>e.name==="play"),a=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!a.value&&(!R.remote||n.value.get("password")===R.remote)),u=b(()=>!!e.params.no),d=b(()=>{var y;return u.value?((y=Rt(e.params.no))==null?void 0:y.no)??1:1}),f=b(()=>oe.value[d.value-1]),h=A(Ns(oe.value.length,e.query.range)),p=Er("clicks","0"),g=b(()=>k(f.value)),m=b({get(){let y=+(p.value||0);return Number.isNaN(y)&&(y=0),y},set(y){_n.value=!1,p.value=y.toString()}});function k(y){var _,M;if((_=y==null?void 0:y.meta)!=null&&_.__clicksContext)return y.meta.__clicksContext;const v=y.no,w=Rs(b({get(){return d.value===v?Math.max(+(p.value??0),w.clicksStart):d.value>v?pt:w.clicksStart},set(T){d.value===v&&(p.value=T.toString())}}),((M=y==null?void 0:y.meta.slide)==null?void 0:M.frontmatter.clicksStart)??0,y==null?void 0:y.meta.clicks);return y!=null&&y.meta&&(y.meta.__clicksContext=w),w}return{router:t,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:i,isPlaying:r,isPresenter:a,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:u,currentSlideNo:d,currentSlideRoute:f,clicksContext:g,queryClicksRaw:p,queryClicks:m,printRange:h,getPrimaryClicks:k}}),xe=Ss(()=>{const t=qr(),e=Ct(),n=Vr(t.currentSlideRoute,t.clicksContext,t.queryClicks,t.isPresenter,t.isPrintMode,e);return ee([n.total,t.currentRoute],async()=>{const s=t.currentRoute.value.params.no;t.hasPrimarySlide.value&&!Rt(s)&&(s&&s!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...t}}),ss=Eo(),Ut=q("slidev-color-schema","auto"),os=b(()=>R.colorSchema!=="auto"),Vs=b({get(){return os.value?R.colorSchema==="dark":Ut.value==="auto"?ss.value:Ut.value==="dark"},set(t){os.value||(Ut.value=t===ss.value?"auto":t?"dark":"light")}}),Yl=_s(Vs);if(It){const t="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Vs,e=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(t)),window.document.head.appendChild(n);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function Wr(){const{isPrintMode:t}=xe();$o(b(()=>t.value?`
@page {
  size: ${Os.value}px ${Go.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Sn=Symbol.for("yaml.alias"),zr=Symbol.for("yaml.document"),Le=Symbol.for("yaml.map"),qs=Symbol.for("yaml.pair"),Mn=Symbol.for("yaml.scalar"),et=Symbol.for("yaml.seq"),re=Symbol.for("yaml.node.type"),Be=t=>!!t&&typeof t=="object"&&t[re]===Sn,Nt=t=>!!t&&typeof t=="object"&&t[re]===zr,Ws=t=>!!t&&typeof t=="object"&&t[re]===Le,B=t=>!!t&&typeof t=="object"&&t[re]===qs,H=t=>!!t&&typeof t=="object"&&t[re]===Mn,Tn=t=>!!t&&typeof t=="object"&&t[re]===et;function K(t){if(t&&typeof t=="object")switch(t[re]){case Le:case et:return!0}return!1}function W(t){if(t&&typeof t=="object")switch(t[re]){case Sn:case Le:case Mn:case et:return!0}return!1}const Ur=t=>(H(t)||K(t))&&!!t.anchor,Oe=Symbol("break visit"),Jr=Symbol("skip children"),Ge=Symbol("remove node");function Ze(t,e){const n=Kr(e);Nt(t)?Re(null,t.contents,n,Object.freeze([t]))===Ge&&(t.contents=null):Re(null,t,n,Object.freeze([]))}Ze.BREAK=Oe;Ze.SKIP=Jr;Ze.REMOVE=Ge;function Re(t,e,n,s){const o=Gr(t,e,n,s);if(W(o)||B(o))return Qr(t,s,o),Re(t,o,n,s);if(typeof o!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const r=Re(i,e.items[i],n,s);if(typeof r=="number")i=r-1;else{if(r===Oe)return Oe;r===Ge&&(e.items.splice(i,1),i-=1)}}}else if(B(e)){s=Object.freeze(s.concat(e));const i=Re("key",e.key,n,s);if(i===Oe)return Oe;i===Ge&&(e.key=null);const r=Re("value",e.value,n,s);if(r===Oe)return Oe;r===Ge&&(e.value=null)}}return o}function Kr(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Gr(t,e,n,s){var o,i,r,a,l;if(typeof n=="function")return n(t,e,s);if(Ws(e))return(o=n.Map)==null?void 0:o.call(n,t,e,s);if(Tn(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,s);if(B(e))return(r=n.Pair)==null?void 0:r.call(n,t,e,s);if(H(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(Be(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function Qr(t,e,n){const s=e[e.length-1];if(K(s))s.items[t]=n;else if(B(s))t==="key"?s.key=n:s.value=n;else if(Nt(s))s.contents=n;else{const o=Be(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function zs(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Ke(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const r=s[o],a=Ke(t,s,String(o),r);a===void 0?delete s[o]:a!==r&&(s[o]=a)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const i=s.get(o),r=Ke(t,s,o,i);r===void 0?s.delete(o):r!==i&&s.set(o,r)}else if(s instanceof Set)for(const o of Array.from(s)){const i=Ke(t,s,o,o);i===void 0?s.delete(o):i!==o&&(s.delete(o),s.add(i))}else for(const[o,i]of Object.entries(s)){const r=Ke(t,s,o,i);r===void 0?delete s[o]:r!==i&&(s[o]=r)}return t.call(e,n,s)}function ie(t,e,n){if(Array.isArray(t))return t.map((s,o)=>ie(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!Ur(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class On{constructor(e){Object.defineProperty(this,re,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}={}){if(!Nt(e))throw new TypeError("A document argument is required");const r={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=ie(this,"",r);if(typeof o=="function")for(const{count:l,res:c}of r.anchors.values())o(c,l);return typeof i=="function"?Ke(i,{"":a},"",a):a}}class Yr extends On{constructor(e){super(Sn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Ze(e,{Node:(s,o)=>{if(o===this)return Ze.BREAK;o.anchor===this.source&&(n=o)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:i}=n,r=this.resolve(o);if(!r){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(r);if(a||(ie(r,null,n),a=s.get(r)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=gt(o,r,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(zs(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${o} `}return o}}function gt(t,e,n){if(Be(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(K(e)){let s=0;for(const o of e.items){const i=gt(t,o,n);i>s&&(s=i)}return s}else if(B(e)){const s=gt(t,e.key,n),o=gt(t,e.value,n);return Math.max(s,o)}return 1}const Us=t=>!t||typeof t!="function"&&typeof t!="object";class I extends On{constructor(e){super(Mn),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:ie(this.value,e,n)}toString(){return String(this.value)}}I.BLOCK_FOLDED="BLOCK_FOLDED";I.BLOCK_LITERAL="BLOCK_LITERAL";I.PLAIN="PLAIN";I.QUOTE_DOUBLE="QUOTE_DOUBLE";I.QUOTE_SINGLE="QUOTE_SINGLE";function Zr(t,e,n){return n.find(s=>{var o;return((o=s.identify)==null?void 0:o.call(s,t))&&!s.format})}function Ot(t,e,n){var d,f,h;if(Nt(t)&&(t=t.contents),W(t))return t;if(B(t)){const p=(f=(d=n.schema[Le]).createNode)==null?void 0:f.call(d,n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=o(t)),new Yr(l.anchor);l={anchor:null,node:null},a.set(t,l)}let c=Zr(t,e,r.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const p=new I(t);return l&&(l.node=p),p}c=t instanceof Map?r[Le]:Symbol.iterator in Object(t)?r[et]:r[Le]}i&&(i(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(n.schema,t,n):new I(t);return c.default||(u.tag=c.tag),l&&(l.node=u),u}function is(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const i=e[o];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const r=[];r[i]=s,s=r}else s=new Map([[i,s]])}return Ot(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Xr=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Js extends On{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>W(s)||B(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Xr(e))this.add(n);else{const[s,...o]=e,i=this.get(s,!0);if(K(i))i.addIn(o,n);else if(i===void 0&&this.schema)this.set(s,is(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(K(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,i=this.get(s,!0);return o.length===0?!n&&H(i)?i.value:i:K(i)?i.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!B(n))return!1;const s=n.value;return s==null||e&&H(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return K(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const i=this.get(s,!0);if(K(i))i.setIn(o,n);else if(i===void 0&&this.schema)this.set(s,is(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const ea=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Xe(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Ne=(t,e,n)=>t.endsWith(`
`)?Xe(n,e):n.includes(`
`)?`
`+Xe(n,e):(t.endsWith(" ")?"":" ")+n,Ks="flow",ln="block",mt="quoted";function jt(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:a}={}){if(!o||o<0)return t;o<i&&(i=0);const l=Math.max(1+i,1+o-e.length);if(t.length<=l)return t;const c=[],u={};let d=o-e.length;typeof s=="number"&&(s>o-Math.max(2,i)?c.push(0):d=o-s);let f,h,p=!1,g=-1,m=-1,k=-1;n===ln&&(g=rs(t,g,e.length),g!==-1&&(d=g+l));for(let v;v=t[g+=1];){if(n===mt&&v==="\\"){switch(m=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}k=g}if(v===`
`)n===ln&&(g=rs(t,g,e.length)),d=g+e.length+l,f=void 0;else{if(v===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const w=t[g+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(f=g)}if(g>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===mt){for(;h===" "||h==="	";)h=v,v=t[g+=1],p=!0;const w=g>k+1?g-2:m-1;if(u[w])return t;c.push(w),u[w]=!0,d=w+l,f=void 0}else p=!0}h=v}if(p&&a&&a(),c.length===0)return t;r&&r();let y=t.slice(0,c[0]);for(let v=0;v<c.length;++v){const w=c[v],_=c[v+1]||t.length;w===0?y=`
${e}${t.slice(0,_)}`:(n===mt&&u[w]&&(y+=`${t[w]}\\`),y+=`
${e}${t.slice(w+1,_)}`)}return y}function rs(t,e,n){let s=e,o=e+1,i=t[o];for(;i===" "||i==="	";)if(e<o+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);s=e,o=e+1,i=t[o]}return s}const Ht=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Ft=t=>/^(%|---|\.\.\.)/m.test(t);function ta(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let i=0,r=0;i<o;++i)if(t[i]===`
`){if(i-r>s)return!0;if(r=i+1,o-r<=s)return!1}return!0}function Qe(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Ft(t)?"  ":"");let r="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(r+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{r+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:u.substr(0,2)==="00"?r+="\\x"+u.substr(2):r+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<o)l+=1;else{for(r+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)r+=`
`,l+=2;r+=i,n[l+2]===" "&&(r+="\\"),l+=1,a=l+1}break;default:l+=1}return r=a?r+n.slice(a):n,s?r:jt(r,i,mt,Ht(e,!1))}function cn(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Qe(t,e);const n=e.indent||(Ft(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:jt(s,n,Ks,Ht(e,!1))}function je(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=Qe;else{const o=t.includes('"'),i=t.includes("'");o&&!i?s=cn:i&&!o?s=Qe:s=n?cn:Qe}return s(t,e)}let un;try{un=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{un=/\n+(?!\n|$)/g}function yt({comment:t,type:e,value:n},s,o,i){const{blockQuote:r,commentString:a,lineWidth:l}=s.options;if(!r||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return je(n,s);const c=s.indent||(s.forceBlockIndent||Ft(n)?"  ":""),u=r==="literal"?!0:r==="folded"||e===I.BLOCK_FOLDED?!1:e===I.BLOCK_LITERAL?!0:!ta(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const _=n[f-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let h=n.substring(f);const p=h.indexOf(`
`);p===-1?d="-":n===h||p!==h.length-1?(d="+",i&&i()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(un,`$&${c}`));let g=!1,m,k=-1;for(m=0;m<n.length;++m){const _=n[m];if(_===" ")g=!0;else if(_===`
`)k=m;else break}let y=n.substring(0,k<m?k+1:m);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${c}`));let w=(g?c?"2":"1":"")+d;if(t&&(w+=" "+a(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!u){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let M=!1;const T=Ht(s,!0);r!=="folded"&&e!==I.BLOCK_FOLDED&&(T.onOverflow=()=>{M=!0});const L=jt(`${y}${_}${h}`,c,ln,T);if(!M)return`>${w}
${c}${L}`}return n=n.replace(/\n+/g,`$&${c}`),`|${w}
${c}${y}${n}${h}`}function na(t,e,n,s){const{type:o,value:i}=t,{actualString:r,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
`)||u&&/[[\]{},]/.test(i))return je(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
`)?je(i,e):yt(t,e,n,s);if(!a&&!u&&o!==I.PLAIN&&i.includes(`
`))return yt(t,e,n,s);if(Ft(i)){if(l==="")return e.forceBlockIndent=!0,yt(t,e,n,s);if(a&&l===c)return je(i,e)}const d=i.replace(/\n+/g,`$&
${l}`);if(r){const f=g=>{var m;return g.default&&g.tag!=="tag:yaml.org,2002:str"&&((m=g.test)==null?void 0:m.test(d))},{compat:h,tags:p}=e.doc.schema;if(p.some(f)||h!=null&&h.some(f))return je(i,e)}return a?d:jt(d,l,Ks,Ht(e,!1))}function sa(t,e,n,s){const{implicitKey:o,inFlow:i}=e,r=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==I.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(a=I.QUOTE_DOUBLE);const l=u=>{switch(u){case I.BLOCK_FOLDED:case I.BLOCK_LITERAL:return o||i?je(r.value,e):yt(r,e,n,s);case I.QUOTE_DOUBLE:return Qe(r.value,e);case I.QUOTE_SINGLE:return cn(r.value,e);case I.PLAIN:return na(r,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=e.options,f=o&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function oa(t,e){const n=Object.assign({blockQuote:!0,commentString:ea,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ia(t,e){var o;if(e.tag){const i=t.filter(r=>r.tag===e.tag);if(i.length>0)return i.find(r=>r.format===e.format)??i[0]}let n,s;if(H(e)){s=e.value;let i=t.filter(r=>{var a;return(a=r.identify)==null?void 0:a.call(r,s)});if(i.length>1){const r=i.filter(a=>a.test);r.length>0&&(i=r)}n=i.find(r=>r.format===e.format)??i.find(r=>!r.format)}else s=e,n=t.find(i=>i.nodeClass&&s instanceof i.nodeClass);if(!n){const i=((o=s==null?void 0:s.constructor)==null?void 0:o.name)??typeof s;throw new Error(`Tag not resolved for ${i} value`)}return n}function ra(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],i=(H(t)||K(t))&&t.anchor;i&&zs(i)&&(n.add(i),o.push(`&${i}`));const r=t.tag?t.tag:e.default?null:e.tag;return r&&o.push(s.directives.tagString(r)),o.join(" ")}function Pt(t,e,n,s){var l;if(B(t))return t.toString(e,n,s);if(Be(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const i=W(t)?t:e.doc.createNode(t,{onTagObj:c=>o=c});o||(o=ia(e.doc.schema.tags,i));const r=ra(i,o,e);r.length>0&&(e.indentAtStart=(e.indentAtStart??0)+r.length+1);const a=typeof o.stringify=="function"?o.stringify(i,e,n,s):H(i)?sa(i,e,n,s):i.toString(e,n,s);return r?H(i)||a[0]==="{"||a[0]==="["?`${r} ${a}`:`${r}
${e.indent}${a}`:a}function aa({key:t,value:e},n,s,o){const{allNullValues:i,doc:r,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=W(t)&&t.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(K(t)||!W(t)&&typeof t=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!t||f&&e==null&&!n.inFlow||K(t)||(H(t)?t.type===I.BLOCK_FOLDED||t.type===I.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!i),indent:a+l});let p=!1,g=!1,m=Pt(t,n,()=>p=!0,()=>g=!0);if(!h&&!n.inFlow&&m.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(i||e==null)return p&&s&&s(),m===""?"?":h?`? ${m}`:m}else if(i&&!d||e==null&&h)return m=`? ${m}`,f&&!p?m+=Ne(m,n.indent,c(f)):g&&o&&o(),m;p&&(f=null),h?(f&&(m+=Ne(m,n.indent,c(f))),m=`? ${m}
${a}:`):(m=`${m}:`,f&&(m+=Ne(m,n.indent,c(f))));let k,y,v;W(e)?(k=!!e.spaceBefore,y=e.commentBefore,v=e.comment):(k=!1,y=null,v=null,e&&typeof e=="object"&&(e=r.createNode(e))),n.implicitKey=!1,!h&&!f&&H(e)&&(n.indentAtStart=m.length+1),g=!1,!u&&l.length>=2&&!n.inFlow&&!h&&Tn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const _=Pt(e,n,()=>w=!0,()=>g=!0);let M=" ";if(f||k||y){if(M=k?`
`:"",y){const T=c(y);M+=`
${Xe(T,n.indent)}`}_===""&&!n.inFlow?M===`
`&&(M=`

`):M+=`
${n.indent}`}else if(!h&&K(e)){const T=_[0],L=_.indexOf(`
`),N=L!==-1,ne=n.inFlow??e.flow??e.items.length===0;if(N||!ne){let Y=!1;if(N&&(T==="&"||T==="!")){let P=_.indexOf(" ");T==="&"&&P!==-1&&P<L&&_[P+1]==="!"&&(P=_.indexOf(" ",P+1)),(P===-1||L<P)&&(Y=!0)}Y||(M=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(M="");return m+=M+_,n.inFlow?w&&s&&s():v&&!w?m+=Ne(m,n.indent,c(v)):g&&o&&o(),m}function la(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const at="<<",Jt={identify:t=>t===at||typeof t=="symbol"&&t.description===at,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new I(Symbol(at)),{addToJSMap:Gs}),stringify:()=>at},ca=(t,e)=>(Jt.identify(e)||H(e)&&(!e.type||e.type===I.PLAIN)&&Jt.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===Jt.tag&&n.default));function Gs(t,e,n){if(n=t&&Be(n)?n.resolve(t.doc):n,Tn(n))for(const s of n.items)Kt(t,e,s);else if(Array.isArray(n))for(const s of n)Kt(t,e,s);else Kt(t,e,n)}function Kt(t,e,n){const s=t&&Be(n)?n.resolve(t.doc):n;if(!Ws(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[i,r]of o)e instanceof Map?e.has(i)||e.set(i,r):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0});return e}function Qs(t,e,{key:n,value:s}){if(W(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(ca(t,n))Gs(t,e,s);else{const o=ie(n,"",t);if(e instanceof Map)e.set(o,ie(s,o,t));else if(e instanceof Set)e.add(o);else{const i=ua(n,o,t),r=ie(s,i,t);i in e?Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):e[i]=r}}return e}function ua(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(W(t)&&(n!=null&&n.doc)){const s=oa(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(o);i.length>40&&(i=i.substring(0,36)+'..."'),la(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Pn(t,e,n){const s=Ot(t,void 0,n),o=Ot(e,void 0,n);return new le(s,o)}class le{constructor(e,n=null){Object.defineProperty(this,re,{value:qs}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return W(n)&&(n=n.clone(e)),W(s)&&(s=s.clone(e)),new le(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return Qs(n,s,this)}toString(e,n,s){return e!=null&&e.doc?aa(this,e,n,s):JSON.stringify(this)}}function Ys(t,e,n){return(e.inFlow??t.flow?ha:fa)(t,e,n)}function fa({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let p=0;p<e.length;++p){const g=e[p];let m=null;if(W(g))!d&&g.spaceBefore&&f.push(""),At(n,f,g.commentBefore,d),g.comment&&(m=g.comment);else if(B(g)){const y=W(g.key)?g.key:null;y&&(!d&&y.spaceBefore&&f.push(""),At(n,f,y.commentBefore,d))}d=!1;let k=Pt(g,u,()=>m=null,()=>d=!0);m&&(k+=Ne(k,i,c(m))),d&&m&&(d=!1),f.push(s+k)}let h;if(f.length===0)h=o.start+o.end;else{h=f[0];for(let p=1;p<f.length;++p){const g=f[p];h+=g?`
${l}${g}`:`
`}}return t?(h+=`
`+Xe(c(t),l),a&&a()):d&&r&&r(),h}function ha({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:i,flowCollectionPadding:r,options:{commentString:a}}=e;s+=i;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let p=0;p<t.length;++p){const g=t[p];let m=null;if(W(g))g.spaceBefore&&d.push(""),At(e,d,g.commentBefore,!1),g.comment&&(m=g.comment);else if(B(g)){const y=W(g.key)?g.key:null;y&&(y.spaceBefore&&d.push(""),At(e,d,y.commentBefore,!1),y.comment&&(c=!0));const v=W(g.value)?g.value:null;v?(v.comment&&(m=v.comment),v.commentBefore&&(c=!0)):g.value==null&&(y!=null&&y.comment)&&(m=y.comment)}m&&(c=!0);let k=Pt(g,l,()=>m=null);p<t.length-1&&(k+=","),m&&(k+=Ne(k,s,a(m))),!c&&(d.length>u||k.includes(`
`))&&(c=!0),d.push(k),u=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!c){const p=d.reduce((g,m)=>g+m.length+2,2);c=e.options.lineWidth>0&&p>e.options.lineWidth}if(c){let p=f;for(const g of d)p+=g?`
${i}${o}${g}`:`
`;return`${p}
${o}${h}`}else return`${f}${r}${d.join(" ")}${r}${h}`}function At({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const i=Xe(e(s),t);n.push(i.trimStart())}}function Ae(t,e){const n=H(e)?e.value:e;for(const s of t)if(B(s)&&(s.key===e||s.key===n||H(s.key)&&s.key.value===n))return s}class Ce extends Js{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Le,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:i}=s,r=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||o)&&r.items.push(Pn(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&r.items.sort(e.sortMapEntries),r}add(e,n){var r;let s;B(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new le(e,e==null?void 0:e.value):s=new le(e.key,e.value);const o=Ae(this.items,s.key),i=(r=this.schema)==null?void 0:r.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);H(o.value)&&Us(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const a=this.items.findIndex(l=>i(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Ae(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Ae(this.items,e),o=s==null?void 0:s.value;return(!n&&H(o)?o.value:o)??void 0}has(e){return!!Ae(this.items,e)}set(e,n){this.add(new le(e,n),!0)}toJSON(e,n,s){const o=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(o);for(const i of this.items)Qs(n,o,i);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!B(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ys(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}class Zs extends Js{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(et,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=lt(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=lt(e);if(typeof s!="number")return;const o=this.items[s];return!n&&H(o)?o.value:o}has(e){const n=lt(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=lt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];H(o)&&Us(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let o=0;for(const i of this.items)s.push(ie(i,String(o++),n));return s}toString(e,n,s){return e?Ys(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let r=0;for(let a of n){if(typeof o=="function"){const l=n instanceof Set?a:String(r++);a=o.call(n,l,a)}i.items.push(Ot(a,void 0,s))}}return i}}function lt(t){let e=H(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function da(t,e,n){const{replacer:s}=n,o=new Zs(t);o.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let r of e){typeof s=="function"&&(r=s.call(e,String(i++),r));let a,l;if(Array.isArray(r))if(r.length===2)a=r[0],l=r[1];else throw new TypeError(`Expected [key, value] tuple: ${r}`);else if(r&&r instanceof Object){const c=Object.keys(r);if(c.length===1)a=c[0],l=r[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=r;o.items.push(Pn(a,l,n))}return o}class An extends Zs{constructor(){super(),this.add=Ce.prototype.add.bind(this),this.delete=Ce.prototype.delete.bind(this),this.get=Ce.prototype.get.bind(this),this.has=Ce.prototype.has.bind(this),this.set=Ce.prototype.set.bind(this),this.tag=An.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const o of this.items){let i,r;if(B(o)?(i=ie(o.key,"",n),r=ie(o.value,i,n)):i=ie(o,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,r)}return s}static from(e,n,s){const o=da(e,n,s),i=new this;return i.items=o.items,i}}An.tag="tag:yaml.org,2002:omap";class Ln extends Ce{constructor(e){super(e),this.tag=Ln.tag}add(e){let n;B(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new le(e.key,null):n=new le(e,null),Ae(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ae(this.items,e);return!n&&B(s)?H(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ae(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new le(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let r of n)typeof o=="function"&&(r=o.call(n,r,r)),i.items.push(Pn(r,null,s));return i}}Ln.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function En(t=5){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length;for(let o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*s)));return e.join("")}function Zl(t,e,n,s){const o=Ns(e+n-1,t);for(let i=0;i<e;i++){const r=s(i),a=o.includes(i+n);for(const l of r)l.classList.toggle("slidev-code-highlighted",a),l.classList.toggle("slidev-code-dishonored",!a),l.classList.toggle("highlighted",a),l.classList.toggle("dishonored",!a)}}function Xs(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!1})}const fe=V({});let pa=[],ga=[];te(fe,"$syncUp",!0);te(fe,"$syncDown",!0);te(fe,"$paused",!1);te(fe,"$onSet",t=>pa.push(t));te(fe,"$onPatch",t=>ga.push(t));Xs();te(fe,"$patch",async()=>!1);const ma={channels:[],enabled:!0,init(t,e,n,s=!1){let o;if(!s)o=new BroadcastChannel(t),o.addEventListener("message",i=>e(i.data)),this.channels.push(o);else if(s){this.listener=function(r){r&&r.key===t&&r.newValue&&e(JSON.parse(r.newValue))},window.addEventListener("storage",this.listener);const i=window.localStorage.getItem(t);i&&e(JSON.parse(i))}return(i,r=!1)=>{this.enabled&&(!s&&o&&!r&&o.postMessage(Ms(i)),s&&!r&&window.localStorage.setItem(t,JSON.stringify(i)))}},disable(){this.enabled=!1,this.channels.forEach(t=>t.close()),this.listener&&window.removeEventListener("storage",this.listener)}},ya=V([ma]),ka=new Map,as=A({});function eo(t,e,n=!1){const s=[];let o=!1,i=!1,r,a;const l=V(e);function c(h){s.push(h)}function u(h,p){l[h]!==p&&(clearTimeout(r),o=!0,l[h]=p,r=setTimeout(()=>o=!1,0))}function d(h){o||(clearTimeout(a),i=!0,Object.entries(h).forEach(([p,g])=>{l[p]=g}),a=setTimeout(()=>i=!1,0))}function f(h){ka.set(h,{onUpdate:d,persist:n,state:l}),as.value[h]=ya.map(g=>g.init(h,d,l,n)).filter(g=>!!g);function p(){as.value[h].forEach(g=>g==null?void 0:g(Ms(l),i)),o||s.forEach(g=>g(l))}ee(l,p,{deep:!0})}return{init:f,onPatch:c,onUpdate:d,patch:u,state:l}}const{init:va,onPatch:Xl,onUpdate:ec,patch:tc,state:nc}=eo(fe,fe,!1),Ee=V({page:0,clicks:0});let wa=[],ba=[];te(Ee,"$syncUp",!0);te(Ee,"$syncDown",!0);te(Ee,"$paused",!1);te(Ee,"$onSet",t=>wa.push(t));te(Ee,"$onPatch",t=>ba.push(t));Xs();te(Ee,"$patch",async()=>!1);const{init:_a,onPatch:Sa,onUpdate:sc,patch:ct,state:oc}=eo(Ee,{page:1,clicks:0,clicksTotal:0});function Ma(){const t=vs().appContext.app,e=V({nav:xe(),configs:R,themeConfigs:b(()=>R.themeConfig)});t.provide(bn,A("none")),t.provide(Tr,e),t.provide(wn,b(()=>e.nav.currentSlideNo)),t.provide(Dt,vn(Wi()));for(const f of Yo)f();const{clicksContext:n,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:i,isPresenter:r,isPrintMode:a}=xe();Bi({title:Bt,htmlAttrs:R.htmlAttrs}),Wr(),_a(`${Bt} - shared`),va(`${Bt} - drawings`);const l=`${location.origin}_${En()}`,c=b(()=>r.value?"presenter":"viewer");function u(){(r.value?rt.value.presenterSend:rt.value.viewerSend)&&(i.value||a.value||!r.value&&!Ar.includes(location.host.split(":")[0])||(ct("page",+s.value),ct("clicks",n.value.current),ct("clicksTotal",n.value.total),ct("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const d=Ct();d.afterEach(u),ee(n,u),Sa(f=>{var p;(r.value?rt.value.presenterReceive:rt.value.viewerReceive)&&(!o.value||a.value||((p=f.lastUpdate)==null?void 0:p.type)!==c.value&&(+f.page==+s.value&&+n.value.current==+f.clicks||(_n.value=!1,d.replace({path:De(f.page,r.value),query:{...d.currentRoute.value.query,clicks:f.clicks||0}}))))})}const Ta=bs({__name:"App",setup(t){return Ma(),He(()=>{for(const[e,n]of Object.entries(Qo.value))document.body.style.setProperty(e,n.toString())}),(e,n)=>{const s=Co("RouterView");return wt(),Io(s)}}}),Oa=[];function ic(t,e=""){var o,i;const n=["slidev-page",e],s=(i=(o=t==null?void 0:t.meta)==null?void 0:o.slide)==null?void 0:i.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}async function rc(){const{saveAs:t}=await j(async()=>{const{saveAs:e}=await import("./modules/file-saver-C8BEGaqa.js").then(n=>n.F);return{saveAs:e}},[]);t(typeof R.download=="string"?R.download:R.exportFilename?`${R.exportFilename}.pdf`:"/talks/balanced_treesslidev-exported.pdf",`${R.title}.pdf`)}function Fe(t,e,n){var s;return((s=t.instance)==null?void 0:s.$).provides[e]??n}function Pa(){return{install(t){t.directive("click",{name:"v-click",mounted(e,n){const s=kt(e,n,n.value);s!=null&&(e.classList.toggle(dt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=He(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?ze:We,o),e.classList.toggle(qt,o)):e.classList.toggle(s.flagFade?ze:We,!o),e.classList.toggle(Wt,i),e.classList.toggle(zt,r)}))},unmounted:Gt}),t.directive("after",{name:"v-after",mounted(e,n){const s=kt(e,n,"+0");s!=null&&(e.classList.toggle(dt,!0),e.watchStopHandle=He(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?ze:We,o),e.classList.toggle(qt,o)):e.classList.toggle(s.flagFade?ze:We,!o),e.classList.toggle(Wt,i),e.classList.toggle(zt,r)}))},unmounted:Gt}),t.directive("click-hide",{name:"v-click-hide",mounted(e,n){const s=kt(e,n,n.value,!0);s!=null&&(e.classList.toggle(dt,!0),e.watchStopHandle=He(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;e.classList.toggle(s.flagFade?ze:We,o),e.classList.toggle(qt,o),e.classList.toggle(Wt,i),e.classList.toggle(zt,r)}))},unmounted:Gt})}}}const to=new Map;function kt(t,e,n,s=!1){var d;const o=(d=Fe(e,Dt))==null?void 0:d.value;if(!t||!o)return null;const i=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,r=e.modifiers.fade!==!1&&e.modifiers.fade!=null,a=o.calculate(n);if(!a)return null;o.register(t,a);const l=b(()=>i?!a.isActive.value:a.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(a.end)?o.current<a.start?"before":"after":i?"after":"before"),u={...a,isShown:l,visibilityState:c,flagFade:r,flagHide:i};return to.set(t,u),u}function Gt(t,e){var s,o;t.classList.toggle(dt,!1);const n=(s=Fe(e,Dt))==null?void 0:s.value;n==null||n.unregister(t),(o=t.watchStopHandle)==null||o.call(t)}function Aa(t=ks(js,A())){const e=Do(t),n=ee([Nr,jr,Hr,Fr,Rr,Mt.width,Mt.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:n}}function La(t){return()=>{}}function Ea(t,e,n,s=!1){var nt;function o(D){return t?Fe(t,D):jo(D)}const i=o(bn),r=o(Or)??{},a=o(wn),l=b(()=>La(a.value)),c=o(Mr)??A(1),u=o(Pr)??A(1),{left:d,top:f,stop:h}=Aa(o(js)??A()),{isPrintMode:p}=xe(),g=["slide","presenter"].includes(i.value)&&!p.value;let m=t?"directive":"prop",k=En(),y;if(Array.isArray(e)?y=e:typeof e=="string"&&e.includes(",")?y=e.split(",").map(Number):e!=null&&(m="frontmatter",k=`${e}`,e=(nt=r==null?void 0:r.dragPos)==null?void 0:nt[k],y=e==null?void 0:e.split(",").map(Number)),m!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const v=[h],w=!s&&e!=null&&!Number.isFinite(y==null?void 0:y[3]);y??(y=[Number.NaN,Number.NaN,0]);const _=A(y[2]),M=A(y[0]+y[2]/2),T=A(s?0:y[4]??0),L=b(()=>T.value*Math.PI/180),N=b(()=>Math.sin(L.value)),ne=b(()=>Math.cos(L.value)),Y=A(),P=A({left:0,top:0,width:0,height:0}),E=A(0);function F(){if(!Y.value)return;const D=Y.value.getBoundingClientRect();P.value={left:D.left/u.value,top:D.top/u.value,width:D.width/u.value,height:D.height/u.value},E.value=(P.value.width+P.value.height)/c.value/(Math.abs(N.value)+Math.abs(ne.value))-_.value}v.push(ee(_,F,{flush:"post"}));const $=A(y[3]??0),C=w?b({get:()=>(w?E.value:$.value)||0,set:D=>!w&&($.value=D)}):$,ae=w?A(y[1]):A(y[1]+y[3]/2),ce=w?b({get:()=>ae.value+C.value/2,set:D=>ae.value=D-C.value/2}):ae,Ve=b(()=>Number.isFinite(M.value)?{position:"absolute",zIndex:100,left:`${M.value-_.value/2}px`,top:`${ce.value-C.value/2}px`,width:`${_.value}px`,height:w?void 0:`${C.value}px`,transformOrigin:"center center",transform:`rotate(${T.value}deg)`}:{position:"absolute",zIndex:100});v.push(ee([M,ce,_,C,T],([D,de,qe,In,Dn])=>{let $e=[D-qe/2,de-In/2,qe].map(Math.round).join();w?$e+=m==="directive"?",NaN":",_":$e+=`,${Math.round(In)}`,Math.round(Dn)!==0&&($e+=`,${Math.round(Dn)}`),m==="directive"&&($e=`[${$e}]`),l.value(k,$e,m,n)}));const x={dragId:k,dataSource:m,markdownSource:n,isArrow:s,zoom:u,autoHeight:w,x0:M,y0:ce,width:_,height:C,rotate:T,container:Y,containerStyle:Ve,watchStopHandles:v,dragging:b(()=>ot.value===x),mounted(){g&&(F(),e||setTimeout(()=>{F(),M.value=(P.value.left+P.value.width/2-d.value)/c.value,ce.value=(P.value.top-f.value)/c.value,_.value=P.value.width/c.value,C.value=P.value.height/c.value},100))},unmounted(){g&&x.stopDragging()},startDragging(){g&&(F(),ot.value=x)},stopDragging(){g&&ot.value===x&&(ot.value=null)}};return v.push(Ro(Y,D=>{const de=document.querySelector("#drag-control-container");de&&D.target&&de.contains(D.target)||x.stopDragging()}),ee(No(),D=>{D||x.stopDragging()})),x}function $a(){return{install(t){t.directive("drag",{name:"v-drag",created(e,n,s){var i;const o=Ea(n,n.value,(i=s.props)==null?void 0:i.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,r=>{for(const[a,l]of Object.entries(r))l&&(e.style[a]=l)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const n=e.draggingState;n.unmounted(),e.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(s=>s())}})}}}function no(){return Math.floor(Math.random()*2**31)}class Ca{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function fn(t,e,n){if(t&&t.length){const[s,o]=e,i=Math.PI/180*n,r=Math.cos(i),a=Math.sin(i);for(const l of t){const[c,u]=l;l[0]=(c-s)*r-(u-o)*a+s,l[1]=(c-s)*a+(u-o)*r+o}}}function Ia(t,e,n){const s=[];t.forEach(o=>s.push(...o)),fn(s,e,n)}function Da(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ra(t,e,n,s=1){const o=n,i=Math.max(e,.1),r=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(o)for(const c of r)fn(c,a,o);const l=Na(r,i,s);if(o){for(const c of r)fn(c,a,-o);Ia(l,a,-o)}return l}function Na(t,e,n){const s=[];for(const c of t){const u=[...c];Da(u[0],u[u.length-1])||u.push([u[0][0],u[0][1]]),u.length>2&&s.push(u)}const o=[];e=Math.max(e,.1);const i=[];for(const c of s)for(let u=0;u<c.length-1;u++){const d=c[u],f=c[u+1];if(d[1]!==f[1]){const h=Math.min(d[1],f[1]);i.push({ymin:h,ymax:Math.max(d[1],f[1]),x:h===d[1]?d[0]:f[0],islope:(f[0]-d[0])/(f[1]-d[1])})}}if(i.sort((c,u)=>c.ymin<u.ymin?-1:c.ymin>u.ymin?1:c.x<u.x?-1:c.x>u.x?1:c.ymax===u.ymax?0:(c.ymax-u.ymax)/Math.abs(c.ymax-u.ymax)),!i.length)return o;let r=[],a=i[0].ymin,l=0;for(;r.length||i.length;){if(i.length){let c=-1;for(let d=0;d<i.length&&!(i[d].ymin>a);d++)c=d;i.splice(0,c+1).forEach(d=>{r.push({s:a,edge:d})})}if(r=r.filter(c=>!(c.edge.ymax<=a)),r.sort((c,u)=>c.edge.x===u.edge.x?0:(c.edge.x-u.edge.x)/Math.abs(c.edge.x-u.edge.x)),(n!==1||l%e===0)&&r.length>1)for(let c=0;c<r.length;c=c+2){const u=c+1;if(u>=r.length)break;const d=r[c].edge,f=r[u].edge;o.push([[Math.round(d.x),a],[Math.round(f.x),a]])}a+=n,r.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return o}function tt(t,e){var n;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let i=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(i=o),Ra(t,o,s,i||1)}class $n{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=tt(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return s}}function xt(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class ja extends $n{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=n.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},n,{hachureGap:s}),i=tt(e,o),r=Math.PI/180*n.hachureAngle,a=[],l=s*.5*Math.cos(r),c=s*.5*Math.sin(r);for(const[d,f]of i)xt([d,f])&&a.push([[d[0]-l,d[1]+c],[...f]],[[d[0]+l,d[1]-c],[...f]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class Ha extends $n{fillPolygons(e,n){const s=this._fillPolygons(e,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),i=this._fillPolygons(e,o);return s.ops=s.ops.concat(i.ops),s}}class Fa{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const s=tt(e,n);return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.max(o,.1);let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const r=o/4;for(const a of e){const l=xt(a),c=l/o,u=Math.ceil(c)-1,d=l-u*o,f=(a[0][0]+a[1][0])/2-o/4,h=Math.min(a[0][1],a[1][1]);for(let p=0;p<u;p++){const g=h+d+p*o,m=f-r+Math.random()*2*r,k=g-r+Math.random()*2*r,y=this.helper.ellipse(m,k,i,i,n);s.push(...y.ops)}}return{type:"fillSketch",ops:s}}}class xa{constructor(e){this.helper=e}fillPolygons(e,n){const s=tt(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,i=[];return e.forEach(r=>{const a=xt(r),l=Math.floor(a/(s+o)),c=(a+o-l*(s+o))/2;let u=r[0],d=r[1];u[0]>d[0]&&(u=r[1],d=r[0]);const f=Math.atan((d[1]-u[1])/(d[0]-u[0]));for(let h=0;h<l;h++){const p=h*(s+o),g=p+s,m=[u[0]+p*Math.cos(f)+c*Math.cos(f),u[1]+p*Math.sin(f)+c*Math.sin(f)],k=[u[0]+g*Math.cos(f)+c*Math.cos(f),u[1]+g*Math.sin(f)+c*Math.sin(f)];i.push(...this.helper.doubleLineOps(m[0],m[1],k[0],k[1],n))}}),i}}class Ba{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,o=n.zigzagOffset<0?s:n.zigzagOffset;n=Object.assign({},n,{hachureGap:s+o});const i=tt(e,n);return{type:"fillSketch",ops:this.zigzagLines(i,o,n)}}zigzagLines(e,n,s){const o=[];return e.forEach(i=>{const r=xt(i),a=Math.round(r/(2*n));let l=i[0],c=i[1];l[0]>c[0]&&(l=i[1],c=i[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<a;d++){const f=d*2*n,h=(d+1)*2*n,p=Math.sqrt(2*Math.pow(n,2)),g=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],m=[l[0]+h*Math.cos(u),l[1]+h*Math.sin(u)],k=[g[0]+p*Math.cos(u+Math.PI/4),g[1]+p*Math.sin(u+Math.PI/4)];o.push(...this.helper.doubleLineOps(g[0],g[1],k[0],k[1],s),...this.helper.doubleLineOps(k[0],k[1],m[0],m[1],s))}}),o}}const z={};function Va(t,e){let n=t.fillStyle||"hachure";if(!z[n])switch(n){case"zigzag":z[n]||(z[n]=new ja(e));break;case"cross-hatch":z[n]||(z[n]=new Ha(e));break;case"dots":z[n]||(z[n]=new Fa(e));break;case"dashed":z[n]||(z[n]=new xa(e));break;case"zigzag-line":z[n]||(z[n]=new Ba(e));break;case"hachure":default:n="hachure",z[n]||(z[n]=new $n(e));break}return z[n]}const qa=0,hn=1,so=2,ut={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Wa(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:qa,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:hn,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:so,text:""},e}function Qt(t,e){return t.type===e}function Cn(t){const e=[],n=Wa(t);let s="BOD",o=0,i=n[o];for(;!Qt(i,so);){let r=0;const a=[];if(s==="BOD")if(i.text==="M"||i.text==="m")o++,r=ut[i.text],s=i.text;else return Cn("M0,0"+t);else Qt(i,hn)?r=ut[s]:(o++,r=ut[i.text],s=i.text);if(o+r<n.length){for(let l=o;l<o+r;l++){const c=n[l];if(Qt(c,hn))a[a.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof ut[s]=="number"){const l={key:s,data:a};e.push(l),o+=r,i=n[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function oo(t){let e=0,n=0,s=0,o=0;const i=[];for(const{key:r,data:a}of t)switch(r){case"M":i.push({key:"M",data:[...a]}),[e,n]=a,[s,o]=a;break;case"m":e+=a[0],n+=a[1],i.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":i.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],i.push({key:"L",data:[e,n]});break;case"C":i.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map((c,u)=>u%2?c+n:c+e);i.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":i.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map((c,u)=>u%2?c+n:c+e);i.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":i.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],i.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":i.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],i.push({key:"H",data:[e]});break;case"V":i.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],i.push({key:"V",data:[n]});break;case"S":i.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map((c,u)=>u%2?c+n:c+e);i.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":i.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],i.push({key:"T",data:[e,n]});break;case"Z":case"z":i.push({key:"Z",data:[]}),e=s,n=o;break}return i}function io(t){const e=[];let n="",s=0,o=0,i=0,r=0,a=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[s,o]=u,[i,r]=u;break;case"C":e.push({key:"C",data:[...u]}),s=u[4],o=u[5],a=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[s,o]=u;break;case"H":s=u[0],e.push({key:"L",data:[s,o]});break;case"V":o=u[0],e.push({key:"L",data:[s,o]});break;case"S":{let d=0,f=0;n==="C"||n==="S"?(d=s+(s-a),f=o+(o-l)):(d=s,f=o),e.push({key:"C",data:[d,f,...u]}),a=u[0],l=u[1],s=u[2],o=u[3];break}case"T":{const[d,f]=u;let h=0,p=0;n==="Q"||n==="T"?(h=s+(s-a),p=o+(o-l)):(h=s,p=o);const g=s+2*(h-s)/3,m=o+2*(p-o)/3,k=d+2*(h-d)/3,y=f+2*(p-f)/3;e.push({key:"C",data:[g,m,k,y,d,f]}),a=h,l=p,s=d,o=f;break}case"Q":{const[d,f,h,p]=u,g=s+2*(d-s)/3,m=o+2*(f-o)/3,k=h+2*(d-h)/3,y=p+2*(f-p)/3;e.push({key:"C",data:[g,m,k,y,h,p]}),a=d,l=f,s=h,o=p;break}case"A":{const d=Math.abs(u[0]),f=Math.abs(u[1]),h=u[2],p=u[3],g=u[4],m=u[5],k=u[6];d===0||f===0?(e.push({key:"C",data:[s,o,m,k,m,k]}),s=m,o=k):(s!==m||o!==k)&&(ro(s,o,m,k,d,f,h,p,g).forEach(function(v){e.push({key:"C",data:v})}),s=m,o=k);break}case"Z":e.push({key:"Z",data:[]}),s=i,o=r;break}n=c}return e}function za(t){return Math.PI*t/180}function Ue(t,e,n){const s=t*Math.cos(n)-e*Math.sin(n),o=t*Math.sin(n)+e*Math.cos(n);return[s,o]}function ro(t,e,n,s,o,i,r,a,l,c){const u=za(r);let d=[],f=0,h=0,p=0,g=0;if(c)[f,h,p,g]=c;else{[t,e]=Ue(t,e,-u),[n,s]=Ue(n,s,-u);const P=(t-n)/2,E=(e-s)/2;let F=P*P/(o*o)+E*E/(i*i);F>1&&(F=Math.sqrt(F),o=F*o,i=F*i);const $=a===l?-1:1,C=o*o,ae=i*i,ce=C*ae-C*E*E-ae*P*P,Ve=C*E*E+ae*P*P,x=$*Math.sqrt(Math.abs(ce/Ve));p=x*o*E/i+(t+n)/2,g=x*-i*P/o+(e+s)/2,f=Math.asin(parseFloat(((e-g)/i).toFixed(9))),h=Math.asin(parseFloat(((s-g)/i).toFixed(9))),t<p&&(f=Math.PI-f),n<p&&(h=Math.PI-h),f<0&&(f=Math.PI*2+f),h<0&&(h=Math.PI*2+h),l&&f>h&&(f=f-Math.PI*2),!l&&h>f&&(h=h-Math.PI*2)}let m=h-f;if(Math.abs(m)>Math.PI*120/180){const P=h,E=n,F=s;l&&h>f?h=f+Math.PI*120/180*1:h=f+Math.PI*120/180*-1,n=p+o*Math.cos(h),s=g+i*Math.sin(h),d=ro(n,s,E,F,o,i,r,0,l,[h,P,p,g])}m=h-f;const k=Math.cos(f),y=Math.sin(f),v=Math.cos(h),w=Math.sin(h),_=Math.tan(m/4),M=4/3*o*_,T=4/3*i*_,L=[t,e],N=[t+M*y,e-T*k],ne=[n+M*w,s-T*v],Y=[n,s];if(N[0]=2*L[0]-N[0],N[1]=2*L[1]-N[1],c)return[N,ne,Y].concat(d);{d=[N,ne,Y].concat(d);const P=[];for(let E=0;E<d.length;E+=3){const F=Ue(d[E][0],d[E][1],u),$=Ue(d[E+1][0],d[E+1][1],u),C=Ue(d[E+2][0],d[E+2][1],u);P.push([F[0],F[1],$[0],$[1],C[0],C[1]])}return P}}const Ua={randOffset:Ga,randOffsetWithRange:Qa,ellipse:dn,doubleLineOps:Ya};function X(t,e,n,s,o){return{type:"path",ops:he(t,e,n,s,o)}}function Ye(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let i=0;i<s-1;i++)o.push(...he(t[i][0],t[i][1],t[i+1][0],t[i+1][1],n));return e&&o.push(...he(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}else if(s===2)return X(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:"path",ops:[]}}function Ja(t,e){return Ye(t,!0,e)}function ao(t,e,n,s,o){const i=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];return Ja(i,o)}function ls(t,e){if(t.length){const s=typeof t[0][0]=="number"?[t]:t,o=ft(s[0],1*(1+e.roughness*.2),e),i=e.disableMultiStroke?[]:ft(s[0],1.5*(1+e.roughness*.22),fs(e));for(let r=1;r<s.length;r++){const a=s[r];if(a.length){const l=ft(a,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:ft(a,1.5*(1+e.roughness*.22),fs(e));for(const u of l)u.op!=="move"&&o.push(u);for(const u of c)u.op!=="move"&&i.push(u)}}return{type:"path",ops:o.concat(i)}}return{type:"path",ops:[]}}function dn(t,e,n,s,o){const i=lo(n,s,o);return pn(t,e,o,i).opset}function lo(t,e,n){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),i=Math.PI*2/o;let r=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return r+=S(r*l,n),a+=S(a*l,n),{increment:i,rx:r,ry:a}}function pn(t,e,n,s){const[o,i]=hs(s.increment,t,e,s.rx,s.ry,1,s.increment*Lt(.1,Lt(.4,1,n),n),n);let r=Et(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=hs(s.increment,t,e,s.rx,s.ry,1.5,0,n),l=Et(a,null,n);r=r.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:r}}}function cs(t,e,n,s,o,i,r,a,l){const c=t,u=e;let d=Math.abs(n/2),f=Math.abs(s/2);d+=S(d*.01,l),f+=S(f*.01,l);let h=o,p=i;for(;h<0;)h+=Math.PI*2,p+=Math.PI*2;p-h>Math.PI*2&&(h=0,p=Math.PI*2);const g=Math.PI*2/l.curveStepCount,m=Math.min(g/2,(p-h)/2),k=ds(m,c,u,d,f,h,p,1,l);if(!l.disableMultiStroke){const y=ds(m,c,u,d,f,h,p,1.5,l);k.push(...y)}return r&&(a?k.push(...he(c,u,c+d*Math.cos(h),u+f*Math.sin(h),l),...he(c,u,c+d*Math.cos(p),u+f*Math.sin(p),l)):k.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+d*Math.cos(h),u+f*Math.sin(h)]})),{type:"path",ops:k}}function us(t,e){const n=io(oo(Cn(t))),s=[];let o=[0,0],i=[0,0];for(const{key:r,data:a}of n)switch(r){case"M":{i=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...he(i[0],i[1],a[0],a[1],e)),i=[a[0],a[1]];break;case"C":{const[l,c,u,d,f,h]=a;s.push(...Za(l,c,u,d,f,h,i,e)),i=[f,h];break}case"Z":s.push(...he(i[0],i[1],o[0],o[1],e)),i=[o[0],o[1]];break}return{type:"path",ops:s}}function Yt(t,e){const n=[];for(const s of t)if(s.length){const o=e.maxRandomnessOffset||0,i=s.length;if(i>2){n.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let r=1;r<i;r++)n.push({op:"lineTo",data:[s[r][0]+S(o,e),s[r][1]+S(o,e)]})}}return{type:"fillPath",ops:n}}function Ie(t,e){return Va(e,Ua).fillPolygons(t,e)}function Ka(t,e,n,s,o,i,r){const a=t,l=e;let c=Math.abs(n/2),u=Math.abs(s/2);c+=S(c*.01,r),u+=S(u*.01,r);let d=o,f=i;for(;d<0;)d+=Math.PI*2,f+=Math.PI*2;f-d>Math.PI*2&&(d=0,f=Math.PI*2);const h=(f-d)/r.curveStepCount,p=[];for(let g=d;g<=f;g=g+h)p.push([a+c*Math.cos(g),l+u*Math.sin(g)]);return p.push([a+c*Math.cos(f),l+u*Math.sin(f)]),p.push([a,l]),Ie([p],r)}function Ga(t,e){return S(t,e)}function Qa(t,e,n){return Lt(t,e,n)}function Ya(t,e,n,s,o){return he(t,e,n,s,o,!0)}function fs(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function co(t){return t.randomizer||(t.randomizer=new Ca(t.seed||0)),t.randomizer.next()}function Lt(t,e,n,s=1){return n.roughness*s*(co(n)*(e-t)+t)}function S(t,e,n=1){return Lt(-t,t,e,n)}function he(t,e,n,s,o,i=!1){const r=i?o.disableMultiStrokeFill:o.disableMultiStroke,a=gn(t,e,n,s,o,!0,!1);if(r)return a;const l=gn(t,e,n,s,o,!0,!0);return a.concat(l)}function gn(t,e,n,s,o,i,r){const a=Math.pow(t-n,2)+Math.pow(e-s,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let u=o.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const d=u/2,f=.2+co(o)*.2;let h=o.bowing*o.maxRandomnessOffset*(s-e)/200,p=o.bowing*o.maxRandomnessOffset*(t-n)/200;h=S(h,o,c),p=S(p,o,c);const g=[],m=()=>S(d,o,c),k=()=>S(u,o,c),y=o.preserveVertices;return r?g.push({op:"move",data:[t+(y?0:m()),e+(y?0:m())]}):g.push({op:"move",data:[t+(y?0:S(u,o,c)),e+(y?0:S(u,o,c))]}),r?g.push({op:"bcurveTo",data:[h+t+(n-t)*f+m(),p+e+(s-e)*f+m(),h+t+2*(n-t)*f+m(),p+e+2*(s-e)*f+m(),n+(y?0:m()),s+(y?0:m())]}):g.push({op:"bcurveTo",data:[h+t+(n-t)*f+k(),p+e+(s-e)*f+k(),h+t+2*(n-t)*f+k(),p+e+2*(s-e)*f+k(),n+(y?0:k()),s+(y?0:k())]}),g}function ft(t,e,n){if(!t.length)return[];const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]),o===t.length-1&&s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]);return Et(s,null,n)}function Et(t,e,n){const s=t.length,o=[];if(s>3){const i=[],r=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<s;a++){const l=t[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*t[a+1][0]-r*t[a-1][0])/6,l[1]+(r*t[a+1][1]-r*t[a-1][1])/6],i[2]=[t[a+1][0]+(r*t[a][0]-r*t[a+2][0])/6,t[a+1][1]+(r*t[a][1]-r*t[a+2][1])/6],i[3]=[t[a+1][0],t[a+1][1]],o.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else s===3?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&o.push(...gn(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return o}function hs(t,e,n,s,o,i,r,a){const l=a.roughness===0,c=[],u=[];if(l){t=t/4,u.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let d=0;d<=Math.PI*2;d=d+t){const f=[e+s*Math.cos(d),n+o*Math.sin(d)];c.push(f),u.push(f)}u.push([e+s*Math.cos(0),n+o*Math.sin(0)]),u.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const d=S(.5,a)-Math.PI/2;u.push([S(i,a)+e+.9*s*Math.cos(d-t),S(i,a)+n+.9*o*Math.sin(d-t)]);const f=Math.PI*2+d-.01;for(let h=d;h<f;h=h+t){const p=[S(i,a)+e+s*Math.cos(h),S(i,a)+n+o*Math.sin(h)];c.push(p),u.push(p)}u.push([S(i,a)+e+s*Math.cos(d+Math.PI*2+r*.5),S(i,a)+n+o*Math.sin(d+Math.PI*2+r*.5)]),u.push([S(i,a)+e+.98*s*Math.cos(d+r),S(i,a)+n+.98*o*Math.sin(d+r)]),u.push([S(i,a)+e+.9*s*Math.cos(d+r*.5),S(i,a)+n+.9*o*Math.sin(d+r*.5)])}return[u,c]}function ds(t,e,n,s,o,i,r,a,l){const c=i+S(.1,l),u=[];u.push([S(a,l)+e+.9*s*Math.cos(c-t),S(a,l)+n+.9*o*Math.sin(c-t)]);for(let d=c;d<=r;d=d+t)u.push([S(a,l)+e+s*Math.cos(d),S(a,l)+n+o*Math.sin(d)]);return u.push([e+s*Math.cos(r),n+o*Math.sin(r)]),u.push([e+s*Math.cos(r),n+o*Math.sin(r)]),Et(u,null,l)}function Za(t,e,n,s,o,i,r,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let u=[0,0];const d=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let h=0;h<d;h++)h===0?l.push({op:"move",data:[r[0],r[1]]}):l.push({op:"move",data:[r[0]+(f?0:S(c[0],a)),r[1]+(f?0:S(c[0],a))]}),u=f?[o,i]:[o+S(c[h],a),i+S(c[h],a)],l.push({op:"bcurveTo",data:[t+S(c[h],a),e+S(c[h],a),n+S(c[h],a),s+S(c[h],a),u[0],u[1]]});return l}function Je(t){return[...t]}function ps(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(n===3)s.push(Je(t[0]),Je(t[1]),Je(t[2]),Je(t[2]));else{const o=[];o.push(t[0],t[0]);for(let a=1;a<t.length;a++)o.push(t[a]),a===t.length-1&&o.push(t[a]);const i=[],r=1-e;s.push(Je(o[0]));for(let a=1;a+2<o.length;a++){const l=o[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*o[a+1][0]-r*o[a-1][0])/6,l[1]+(r*o[a+1][1]-r*o[a-1][1])/6],i[2]=[o[a+1][0]+(r*o[a][0]-r*o[a+2][0])/6,o[a+1][1]+(r*o[a][1]-r*o[a+2][1])/6],i[3]=[o[a+1][0],o[a+1][1]],s.push(i[1],i[2],i[3])}}return s}function Xa(t,e){return Math.sqrt(vt(t,e))}function vt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function el(t,e,n){const s=vt(e,n);if(s===0)return vt(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),vt(t,Pe(e,n,o))}function Pe(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function tl(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],i=t[e+3];let r=3*s[0]-2*n[0]-i[0];r*=r;let a=3*s[1]-2*n[1]-i[1];a*=a;let l=3*o[0]-2*i[0]-n[0];l*=l;let c=3*o[1]-2*i[1]-n[1];return c*=c,r<l&&(r=l),a<c&&(a=c),r+a}function mn(t,e,n,s){const o=s||[];if(tl(t,e)<n){const i=t[e+0];o.length?Xa(o[o.length-1],i)>1&&o.push(i):o.push(i),o.push(t[e+3])}else{const r=t[e+0],a=t[e+1],l=t[e+2],c=t[e+3],u=Pe(r,a,.5),d=Pe(a,l,.5),f=Pe(l,c,.5),h=Pe(u,d,.5),p=Pe(d,f,.5),g=Pe(h,p,.5);mn([r,u,h,g],0,n,o),mn([g,p,f,c],0,n,o)}return o}function nl(t,e){return $t(t,0,t.length,e)}function $t(t,e,n,s,o){const i=o||[],r=t[e],a=t[n-1];let l=0,c=1;for(let u=e+1;u<n-1;++u){const d=el(t[u],r,a);d>l&&(l=d,c=u)}return Math.sqrt(l)>s?($t(t,e,c+1,s,i),$t(t,c,n,s,i)):(i.length||i.push(r),i.push(a)),i}function yn(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let i=0;i<o;i++){const r=i*3;mn(t,r,e,s)}return n&&n>0?$t(s,0,s.length,n):s}function sl(t,e,n){const s=Cn(t),o=io(oo(s)),i=[];let r=[],a=[0,0],l=[];const c=()=>{l.length>=4&&r.push(...yn(l,e)),l=[]},u=()=>{c(),r.length&&(i.push(r),r=[])};for(const{key:f,data:h}of o)switch(f){case"M":u(),a=[h[0],h[1]],r.push(a);break;case"L":c(),r.push([h[0],h[1]]);break;case"C":if(!l.length){const p=r.length?r[r.length-1]:a;l.push([p[0],p[1]])}l.push([h[0],h[1]]),l.push([h[2],h[3]]),l.push([h[4],h[5]]);break;case"Z":c(),r.push([a[0],a[1]]);break}if(u(),!n)return i;const d=[];for(const f of i){const h=nl(f,n);h.length&&d.push(h)}return d}const J="none";class ol{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return no()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,o,i){const r=this._o(i);return this._d("line",[X(e,n,s,o,r)],r)}rectangle(e,n,s,o,i){const r=this._o(i),a=[],l=ao(e,n,s,o,r);if(r.fill){const c=[[e,n],[e+s,n],[e+s,n+o],[e,n+o]];r.fillStyle==="solid"?a.push(Yt([c],r)):a.push(Ie([c],r))}return r.stroke!==J&&a.push(l),this._d("rectangle",a,r)}ellipse(e,n,s,o,i){const r=this._o(i),a=[],l=lo(s,o,r),c=pn(e,n,r,l);if(r.fill)if(r.fillStyle==="solid"){const u=pn(e,n,r,l).opset;u.type="fillPath",a.push(u)}else a.push(Ie([c.estimatedPoints],r));return r.stroke!==J&&a.push(c.opset),this._d("ellipse",a,r)}circle(e,n,s,o){const i=this.ellipse(e,n,s,s,o);return i.shape="circle",i}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[Ye(e,!1,s)],s)}arc(e,n,s,o,i,r,a=!1,l){const c=this._o(l),u=[],d=cs(e,n,s,o,i,r,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const h=cs(e,n,s,o,i,r,!0,!1,f);h.type="fillPath",u.push(h)}else u.push(Ka(e,n,s,o,i,r,c));return c.stroke!==J&&u.push(d),this._d("arc",u,c)}curve(e,n){const s=this._o(n),o=[],i=ls(e,s);if(s.fill&&s.fill!==J)if(s.fillStyle==="solid"){const r=ls(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(r.ops)})}else{const r=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const u of c)u.length<3?r.push(...u):u.length===3?r.push(...yn(ps([u[0],u[0],u[1],u[2]]),10,(1+s.roughness)/2)):r.push(...yn(ps(u),10,(1+s.roughness)/2))}r.length&&o.push(Ie([r],s))}return s.stroke!==J&&o.push(i),this._d("curve",o,s)}polygon(e,n){const s=this._o(n),o=[],i=Ye(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(Yt([e],s)):o.push(Ie([e],s))),s.stroke!==J&&o.push(i),this._d("polygon",o,s)}path(e,n){const s=this._o(n),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=s.fill&&s.fill!=="transparent"&&s.fill!==J,r=s.stroke!==J,a=!!(s.simplification&&s.simplification<1),l=a?4-4*(s.simplification||1):(1+s.roughness)/2,c=sl(e,1,l),u=us(e,s);if(i)if(s.fillStyle==="solid")if(c.length===1){const d=us(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else o.push(Yt(c,s));else o.push(Ie(c,s));return r&&(a?c.forEach(d=>{o.push(Ye(d,!1,s))}):o.push(u)),this._d("path",o,s)}opsToPath(e,n){let s="";for(const o of e.ops){const i=typeof n=="number"&&n>=0?o.data.map(r=>+r.toFixed(n)):o.data;switch(o.op){case"move":s+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const i of n){let r=null;switch(i.type){case"path":r={d:this.opsToPath(i),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:J};break;case"fillPath":r={d:this.opsToPath(i),stroke:J,strokeWidth:0,fill:s.fill||J};break;case"fillSketch":r=this.fillSketch(i,s);break}r&&o.push(r)}return o}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||J,strokeWidth:s,fill:J}}_mergedShape(e){return e.filter((n,s)=>s===0?!0:n.op!=="move")}}const uo="http://www.w3.org/2000/svg",il=800;let Zt=null;function rl(){return Zt||(Zt=new ol().defaultOptions),Zt}function Xt(t,e,n){return{...rl(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...n}}function al(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const n=e;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function ll(t,e,n,s,o,i){const r=[];let a=n.strokeWidth||2;const l=al(n),c=n.animate===void 0?!0:!!n.animate,u=n.iterations||2,d=n.rtl?1:0,f=Xt("single",i,n);switch(n.type){case"underline":{const h=e.y+e.h+l[2];for(let p=d;p<u+d;p++)p%2?r.push(X(e.x+e.w,h,e.x,h,f)):r.push(X(e.x,h,e.x+e.w,h,f));break}case"strike-through":{const h=e.y+e.h/2;for(let p=d;p<u+d;p++)p%2?r.push(X(e.x+e.w,h,e.x,h,f)):r.push(X(e.x,h,e.x+e.w,h,f));break}case"box":{const h=e.x-l[3],p=e.y-l[0],g=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let k=0;k<u;k++)r.push(ao(h,p,g,m,f));break}case"bracket":{const h=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],p=e.x-l[3]*2,g=e.x+e.w+l[1]*2,m=e.y-l[0]*2,k=e.y+e.h+l[2]*2;for(const y of h){let v;switch(y){case"bottom":v=[[p,e.y+e.h],[p,k],[g,k],[g,e.y+e.h]];break;case"top":v=[[p,e.y],[p,m],[g,m],[g,e.y]];break;case"left":v=[[e.x,m],[p,m],[p,k],[e.x,k]];break;case"right":v=[[e.x+e.w,m],[g,m],[g,k],[e.x+e.w,k]];break}v&&r.push(Ye(v,!1,f))}break}case"crossed-off":{const h=e.x,p=e.y,g=h+e.w,m=p+e.h;for(let k=d;k<u+d;k++)k%2?r.push(X(g,m,h,p,f)):r.push(X(h,p,g,m,f));for(let k=d;k<u+d;k++)k%2?r.push(X(h,m,g,p,f)):r.push(X(g,p,h,m,f));break}case"circle":{const h=Xt("double",i,n),p=e.w+(l[1]+l[3]),g=e.h+(l[0]+l[2]),m=e.x-l[3]+p/2,k=e.y-l[0]+g/2,y=Math.floor(u/2),v=u-y*2;for(let w=0;w<y;w++)r.push(dn(m,k,p,g,h));for(let w=0;w<v;w++)r.push(dn(m,k,p,g,f));break}case"highlight":{const h=Xt("highlight",i,n);a=e.h*.95;const p=e.y+e.h/2;for(let g=d;g<u+d;g++)g%2?r.push(X(e.x+e.w,p,e.x,p,h)):r.push(X(e.x,p,e.x+e.w,p,h));break}}if(r.length){const h=cl(r),p=[],g=[];let m=0;const k=(y,v,w)=>y.setAttribute(v,w);for(const y of h){const v=document.createElementNS(uo,"path");if(k(v,"d",y),k(v,"fill","none"),k(v,"stroke",n.color||"currentColor"),k(v,"stroke-width",`${a}`),n.opacity!==void 0&&k(v,"style",`opacity:${n.opacity}`),c){const w=v.getTotalLength();p.push(w),m+=w}t.appendChild(v),g.push(v)}if(c){let y=0;for(let v=0;v<g.length;v++){const w=g[v],_=p[v],M=m?o*(_/m):0,T=s+y,L=w.style;L.strokeDashoffset=`${_}`,L.strokeDasharray=`${_}`,L.animation=`rough-notation-dash ${M}ms ease-out ${T}ms forwards`,y+=M}return gs(o+s)}}return gs(0)}function gs(t){return new Promise(e=>setTimeout(e,t))}function cl(t){const e=[];for(const n of t){let s="";for(const o of n.ops){const i=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function ul(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var fl=Object.defineProperty,hl=(t,e,n)=>e in t?fl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e,n)=>(hl(t,typeof e!="symbol"?e+"":e,n),n);class dl{constructor(e,n){se(this,"_state","unattached"),se(this,"_config"),se(this,"_resizing",!1),se(this,"_ro"),se(this,"_seed",no()),se(this,"_e"),se(this,"_svg"),se(this,"_lastSizes",[]),se(this,"_animationDelay",0),se(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),se(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,n){this._config[e]!==n&&(this._config[e]=n,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){ul();const e=this._svg=document.createElementNS(uo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=e.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const n of e)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let n=0;n<e.length;n++)if(!this.isSameRect(e[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(e,n){const s=(o,i)=>Math.round(o)===Math.round(i);return s(e.x,n.x)&&s(e.y,n.y)&&s(e.w,n.w)&&s(e.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,n){let s=this._config;n&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let i=0;o.forEach(c=>i+=c.w);const r=s.animationDuration||il;let a=0;const l=[];for(let c=0;c<o.length;c++){const u=o[c],d=r*(u.w/i);l.push(ll(e,o[c],s,a+this._animationDelay+(this._config.delay||0),d,this._seed)),a+=d}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let s=0;s<n.length;s++)e.push(this.svgRect(this._svg,n[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,n){const s=e.getBoundingClientRect(),o=n;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function pl(t,e){return new dl(t,e)}function U(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const ms={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>U(t,"text-black"),blue:t=>U(t,"text-blue"),cyan:t=>U(t,"text-cyan"),gray:t=>U(t,"text-gray"),green:t=>U(t,"text-green"),indigo:t=>U(t,"text-indigo"),lime:t=>U(t,"text-lime"),orange:t=>U(t,"text-orange"),pink:t=>U(t,"text-pink"),purple:t=>U(t,"text-purple"),red:t=>U(t,"text-red"),teal:t=>U(t,"text-teal"),white:t=>U(t,"text-white"),yellow:t=>U(t,"text-yellow")},gl=[[/^delay-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||100;return e.opacity=s/100,e}]];function ml(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,n)=>{const{isPrintMode:s}=xe(),o=b(()=>{const a=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let l={at:a.at};const c=Object.entries(n.modifiers).filter(([d,f])=>{if(ms[d])return l=ms[d](l,f),!1;for(const[h,p]of gl){const g=d.match(h);if(g)return l=p(g,l,f),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const u={...l,...a};return u.type||(u.type="underline"),s.value&&(u.animationDuration=1),u}),i=pl(e,o.value),r=kt(e,n,o.value.at);if(!r){i.show();return}e.watchStopHandle=He(()=>{let a;o.value.class&&(i.class=o.value.class),o.value.color&&(i.color=o.value.color);const l=o.value.at;l===!0?a=!0:l===!1?a=!1:a=r.isActive.value,a!=null&&(a?i.show():i.hide())})},unmounted:e=>{var n;(n=e.watchStopHandle)==null||n.call(e)}})}}}function yl(){return{install(t){const e=Ho();t.directive("motion",{name:"v-motion",mounted(n,s,o,i){var v,w,_;const r=Fe(s,Dt),a=Fe(s,wn),l=Fe(s,bn),{currentPage:c,clicks:u,isPrintMode:d}=xe(),f=o.props={...o.props},h={...f.initial,...(v=f.variants)==null?void 0:v["slidev-initial"]},p={...f.enter,...(w=f.variants)==null?void 0:w["slidev-enter"]},g={...f.leave,...(_=f.variants)==null?void 0:_["slidev-leave"]};delete f.initial,delete f.enter,delete f.leave;const m=`${En()}-`,k=[];for(const M of Object.keys(f))if(M.startsWith("click-")){const T=M.slice(6),L=T.includes("-")?T.split("-").map(Number):+T,N=m+T;k.push({id:N,at:L,variant:{...f[M]},info:r==null?void 0:r.value.calculate(L)}),delete f[M]}k.sort((M,T)=>(Array.isArray(M.at)?M.at[0]:M.at)-(Array.isArray(T.at)?T.at[0]:T.at)),e.created(n,s,o,i),e.mounted(n,s,o,i);const y=n.motionInstance;y.clickIds=k.map(M=>M.id),y.set(h),y.watchStopHandle=ee([a,c,u].filter(Boolean),()=>{var T;const M=((T=to.get(n))==null?void 0:T.visibilityState.value)??"shown";if(!(r!=null&&r.value)||!["slide","presenter"].includes((l==null?void 0:l.value)??"")){const L={...h,...p};for(const{variant:N}of k)Object.assign(L,N);y.set(L)}else if(d.value||(a==null?void 0:a.value)===c.value)if(M==="shown"){const L={...h,...p};for(const{variant:N,info:ne}of k)(!ne||ne.isActive.value)&&Object.assign(L,N);d.value?y.set(L):y.apply(L)}else y.apply(M==="before"?h:g);else y.apply(((a==null?void 0:a.value)??-1)>c.value?h:g)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const kl=[];function vl(){const t=[];function e(n){if(!R.remote||R.remote===n.query.password)return!0;if(R.remote&&n.query.password===void 0){const s=prompt("Enter password");if(R.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return t.push({name:"entry",path:"/entry",component:()=>j(()=>import("./slidev/entry-BGwsVpp5.js"),__vite__mapDeps([31,1,3,4,32]))},{name:"overview",path:"/overview",component:()=>j(()=>import("./slidev/overview-CprOmc0w.js"),__vite__mapDeps([33,23,1,34,35,36,37,38,3,4]))},{name:"notes",path:"/notes",component:()=>j(()=>import("./slidev/notes-u0fKTEaF.js"),__vite__mapDeps([39,1,34,35,38,3,4])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>j(()=>import("./slidev/presenter-DEteFk_E.js"),__vite__mapDeps([40,1,36,37,41,6,2,23,38,3,4,42,34,35,43,44,45])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),t.push({name:"play",path:"/:no",component:()=>j(()=>import("./slidev/play-PVkRxc8N.js"),__vite__mapDeps([46,1,36,37,41,6,2,23,38,3,4,42,47]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>j(()=>import("./slidev/404-CWqr7nZq.js"),__vite__mapDeps([48,1,3,4,49]))}),kl.reduce((n,s)=>s(n),t)}async function wl(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const n=Fo({history:xo("/talks/balanced_trees"),routes:vl()});t.use(n),t.use(Fi()),t.use(Pa()),t.use(ml()),t.use($a()),t.use(yl()),t.use(Vo,{container:"#twoslash-container"});const s={app:t,router:n};for(const o of Oa)await o(s)}async function bl(){const t=Bo(Ta);await wl(t),t.mount("#app")}bl();export{Xs as $,tn as A,Nn as B,pt as C,zl as D,it as E,Lr as F,Nr as G,$l as H,Tt as I,Kl as J,Gl as K,Ol as L,Wl as M,j as N,Cl as O,Il as P,Fl as Q,xr as R,an as S,jr as T,Rt as U,nc as V,tc as W,Xl as X,Bl as Y,te as Z,Ji as _,We as a,eo as a0,Ts as a1,Rr as a2,Os as a3,Go as a4,js as a5,ic as a6,Cr as a7,dt as a8,Wt as a9,zt as aa,El as ab,_n as ac,Tl as ad,Ml as ae,ql as af,Ql as ag,Pl as ah,Mt as ai,Dl as aj,Hs as ak,rt as al,jl as am,rc as an,Jl as ao,Ul as ap,oe as aq,Dr as ar,Aa as as,Hl as at,Rl as au,ot as av,Nl as aw,Vl as ax,Dt as b,R as c,wn as d,bn as e,Or as f,Ll as g,Mr as h,Tr as i,Pr as j,Bi as k,xe as l,En as m,Rs as n,Bt as o,xl as p,rn as q,os as r,oc as s,Wo as t,Zl as u,Vs as v,Yl as w,Wi as x,De as y,Al as z};
